<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TelegramClient &mdash; Telethon 0.145 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Update Events" href="events.html" />
    <link rel="prev" title="Compatibility and Convenience" href="../misc/compatibility-and-convenience.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Telethon
          </a>
              <div class="version">
                0.145
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">First Steps</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../basic/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic/signing-in.html">Signing In</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic/quick-start.html">Quick-Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic/updates.html">Updates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic/next-steps.html">Next Steps</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Quick References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quick-references/faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick-references/client-reference.html">Client Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick-references/events-reference.html">Events Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick-references/objects-reference.html">Objects Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../concepts/strings.html">String-based Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/entities.html">Entities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/chats-vs-channels.html">Chats vs Channels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/updates.html">Updates in Depth</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/sessions.html">Session Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/full-api.html">The Full API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/errors.html">RPC Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/botapi-vs-mtproto.html">HTTP Bot API vs MTProto</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/asyncio.html">Mastering asyncio</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Full API Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../examples/word-of-warning.html">A Word of Warning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/chats-and-channels.html">Working with Chats and Channels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/users.html">Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/working-with-messages.html">Working with messages</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developing/philosophy.html">Philosophy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing/test-servers.html">Test Servers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing/project-structure.html">Project Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing/coding-style.html">Coding Style</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing/testing.html">Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing/understanding-the-type-language.html">Understanding the Type Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing/tips-for-porting-the-project.html">Tips for Porting the Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing/telegram-api-in-other-languages.html">Telegram API in Other Languages</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/changelog.html">Changelog (Version History)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/wall-of-shame.html">Wall of Shame</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/compatibility-and-convenience.html">Compatibility and Convenience</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Telethon Modules</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">TelegramClient</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#telethon.client.telegramclient.TelegramClient"><code class="docutils literal notranslate"><span class="pre">TelegramClient</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.client.telegrambaseclient.TelegramBaseClient"><code class="docutils literal notranslate"><span class="pre">TelegramBaseClient</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.telegrambaseclient.TelegramBaseClient.__call__"><code class="docutils literal notranslate"><span class="pre">TelegramBaseClient.__call__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.telegrambaseclient.TelegramBaseClient.__version__"><code class="docutils literal notranslate"><span class="pre">TelegramBaseClient.__version__</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.telegrambaseclient.TelegramBaseClient.__weakref__"><code class="docutils literal notranslate"><span class="pre">TelegramBaseClient.__weakref__</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.telegrambaseclient.TelegramBaseClient.connect"><code class="docutils literal notranslate"><span class="pre">TelegramBaseClient.connect()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.telegrambaseclient.TelegramBaseClient.disconnect"><code class="docutils literal notranslate"><span class="pre">TelegramBaseClient.disconnect()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.telegrambaseclient.TelegramBaseClient.disconnected"><code class="docutils literal notranslate"><span class="pre">TelegramBaseClient.disconnected</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.telegrambaseclient.TelegramBaseClient.flood_sleep_threshold"><code class="docutils literal notranslate"><span class="pre">TelegramBaseClient.flood_sleep_threshold</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.telegrambaseclient.TelegramBaseClient.is_connected"><code class="docutils literal notranslate"><span class="pre">TelegramBaseClient.is_connected()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.telegrambaseclient.TelegramBaseClient.loop"><code class="docutils literal notranslate"><span class="pre">TelegramBaseClient.loop</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.telegrambaseclient.TelegramBaseClient.set_proxy"><code class="docutils literal notranslate"><span class="pre">TelegramBaseClient.set_proxy()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.client.account.AccountMethods"><code class="docutils literal notranslate"><span class="pre">AccountMethods</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.account.AccountMethods.__weakref__"><code class="docutils literal notranslate"><span class="pre">AccountMethods.__weakref__</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.account.AccountMethods.end_takeout"><code class="docutils literal notranslate"><span class="pre">AccountMethods.end_takeout()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.account.AccountMethods.takeout"><code class="docutils literal notranslate"><span class="pre">AccountMethods.takeout()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.client.auth.AuthMethods"><code class="docutils literal notranslate"><span class="pre">AuthMethods</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.auth.AuthMethods.__aenter__"><code class="docutils literal notranslate"><span class="pre">AuthMethods.__aenter__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.auth.AuthMethods.__aexit__"><code class="docutils literal notranslate"><span class="pre">AuthMethods.__aexit__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.auth.AuthMethods.__enter__"><code class="docutils literal notranslate"><span class="pre">AuthMethods.__enter__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.auth.AuthMethods.__exit__"><code class="docutils literal notranslate"><span class="pre">AuthMethods.__exit__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.auth.AuthMethods.__weakref__"><code class="docutils literal notranslate"><span class="pre">AuthMethods.__weakref__</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.auth.AuthMethods.edit_2fa"><code class="docutils literal notranslate"><span class="pre">AuthMethods.edit_2fa()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.auth.AuthMethods.log_out"><code class="docutils literal notranslate"><span class="pre">AuthMethods.log_out()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.auth.AuthMethods.qr_login"><code class="docutils literal notranslate"><span class="pre">AuthMethods.qr_login()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.auth.AuthMethods.send_code_request"><code class="docutils literal notranslate"><span class="pre">AuthMethods.send_code_request()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.auth.AuthMethods.sign_in"><code class="docutils literal notranslate"><span class="pre">AuthMethods.sign_in()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.auth.AuthMethods.sign_up"><code class="docutils literal notranslate"><span class="pre">AuthMethods.sign_up()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.auth.AuthMethods.start"><code class="docutils literal notranslate"><span class="pre">AuthMethods.start()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.client.bots.BotMethods"><code class="docutils literal notranslate"><span class="pre">BotMethods</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.bots.BotMethods.__weakref__"><code class="docutils literal notranslate"><span class="pre">BotMethods.__weakref__</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.bots.BotMethods.inline_query"><code class="docutils literal notranslate"><span class="pre">BotMethods.inline_query()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.client.buttons.ButtonMethods"><code class="docutils literal notranslate"><span class="pre">ButtonMethods</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.buttons.ButtonMethods.__weakref__"><code class="docutils literal notranslate"><span class="pre">ButtonMethods.__weakref__</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.buttons.ButtonMethods.build_reply_markup"><code class="docutils literal notranslate"><span class="pre">ButtonMethods.build_reply_markup()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.client.chats.ChatMethods"><code class="docutils literal notranslate"><span class="pre">ChatMethods</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.chats.ChatMethods.__weakref__"><code class="docutils literal notranslate"><span class="pre">ChatMethods.__weakref__</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.chats.ChatMethods.action"><code class="docutils literal notranslate"><span class="pre">ChatMethods.action()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.chats.ChatMethods.edit_admin"><code class="docutils literal notranslate"><span class="pre">ChatMethods.edit_admin()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.chats.ChatMethods.edit_permissions"><code class="docutils literal notranslate"><span class="pre">ChatMethods.edit_permissions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.chats.ChatMethods.get_admin_log"><code class="docutils literal notranslate"><span class="pre">ChatMethods.get_admin_log()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.chats.ChatMethods.get_participants"><code class="docutils literal notranslate"><span class="pre">ChatMethods.get_participants()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.chats.ChatMethods.get_permissions"><code class="docutils literal notranslate"><span class="pre">ChatMethods.get_permissions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.chats.ChatMethods.get_profile_photos"><code class="docutils literal notranslate"><span class="pre">ChatMethods.get_profile_photos()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.chats.ChatMethods.get_stats"><code class="docutils literal notranslate"><span class="pre">ChatMethods.get_stats()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.chats.ChatMethods.iter_admin_log"><code class="docutils literal notranslate"><span class="pre">ChatMethods.iter_admin_log()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.chats.ChatMethods.iter_participants"><code class="docutils literal notranslate"><span class="pre">ChatMethods.iter_participants()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.chats.ChatMethods.iter_profile_photos"><code class="docutils literal notranslate"><span class="pre">ChatMethods.iter_profile_photos()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.chats.ChatMethods.kick_participant"><code class="docutils literal notranslate"><span class="pre">ChatMethods.kick_participant()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.client.dialogs.DialogMethods"><code class="docutils literal notranslate"><span class="pre">DialogMethods</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.dialogs.DialogMethods.__weakref__"><code class="docutils literal notranslate"><span class="pre">DialogMethods.__weakref__</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.dialogs.DialogMethods.conversation"><code class="docutils literal notranslate"><span class="pre">DialogMethods.conversation()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.dialogs.DialogMethods.delete_dialog"><code class="docutils literal notranslate"><span class="pre">DialogMethods.delete_dialog()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.dialogs.DialogMethods.edit_folder"><code class="docutils literal notranslate"><span class="pre">DialogMethods.edit_folder()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.dialogs.DialogMethods.get_dialogs"><code class="docutils literal notranslate"><span class="pre">DialogMethods.get_dialogs()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.dialogs.DialogMethods.get_drafts"><code class="docutils literal notranslate"><span class="pre">DialogMethods.get_drafts()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.dialogs.DialogMethods.iter_dialogs"><code class="docutils literal notranslate"><span class="pre">DialogMethods.iter_dialogs()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.dialogs.DialogMethods.iter_drafts"><code class="docutils literal notranslate"><span class="pre">DialogMethods.iter_drafts()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.client.downloads.DownloadMethods"><code class="docutils literal notranslate"><span class="pre">DownloadMethods</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.downloads.DownloadMethods.__weakref__"><code class="docutils literal notranslate"><span class="pre">DownloadMethods.__weakref__</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.downloads.DownloadMethods.download_file"><code class="docutils literal notranslate"><span class="pre">DownloadMethods.download_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.downloads.DownloadMethods.download_media"><code class="docutils literal notranslate"><span class="pre">DownloadMethods.download_media()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.downloads.DownloadMethods.download_profile_photo"><code class="docutils literal notranslate"><span class="pre">DownloadMethods.download_profile_photo()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.downloads.DownloadMethods.iter_download"><code class="docutils literal notranslate"><span class="pre">DownloadMethods.iter_download()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.client.messageparse.MessageParseMethods"><code class="docutils literal notranslate"><span class="pre">MessageParseMethods</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.messageparse.MessageParseMethods.__weakref__"><code class="docutils literal notranslate"><span class="pre">MessageParseMethods.__weakref__</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.messageparse.MessageParseMethods.parse_mode"><code class="docutils literal notranslate"><span class="pre">MessageParseMethods.parse_mode</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.client.messages.MessageMethods"><code class="docutils literal notranslate"><span class="pre">MessageMethods</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.messages.MessageMethods.__weakref__"><code class="docutils literal notranslate"><span class="pre">MessageMethods.__weakref__</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.messages.MessageMethods.delete_messages"><code class="docutils literal notranslate"><span class="pre">MessageMethods.delete_messages()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.messages.MessageMethods.edit_message"><code class="docutils literal notranslate"><span class="pre">MessageMethods.edit_message()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.messages.MessageMethods.forward_messages"><code class="docutils literal notranslate"><span class="pre">MessageMethods.forward_messages()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.messages.MessageMethods.get_messages"><code class="docutils literal notranslate"><span class="pre">MessageMethods.get_messages()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.messages.MessageMethods.iter_messages"><code class="docutils literal notranslate"><span class="pre">MessageMethods.iter_messages()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.messages.MessageMethods.pin_message"><code class="docutils literal notranslate"><span class="pre">MessageMethods.pin_message()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.messages.MessageMethods.send_message"><code class="docutils literal notranslate"><span class="pre">MessageMethods.send_message()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.messages.MessageMethods.send_reaction"><code class="docutils literal notranslate"><span class="pre">MessageMethods.send_reaction()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.messages.MessageMethods.send_read_acknowledge"><code class="docutils literal notranslate"><span class="pre">MessageMethods.send_read_acknowledge()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.messages.MessageMethods.set_default_reaction"><code class="docutils literal notranslate"><span class="pre">MessageMethods.set_default_reaction()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.messages.MessageMethods.unpin_message"><code class="docutils literal notranslate"><span class="pre">MessageMethods.unpin_message()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.client.updates.EventBuilderDict"><code class="docutils literal notranslate"><span class="pre">EventBuilderDict</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.updates.EventBuilderDict.__getitem__"><code class="docutils literal notranslate"><span class="pre">EventBuilderDict.__getitem__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.updates.EventBuilderDict.__weakref__"><code class="docutils literal notranslate"><span class="pre">EventBuilderDict.__weakref__</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.client.updates.UpdateMethods"><code class="docutils literal notranslate"><span class="pre">UpdateMethods</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.updates.UpdateMethods.__weakref__"><code class="docutils literal notranslate"><span class="pre">UpdateMethods.__weakref__</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.updates.UpdateMethods.add_event_handler"><code class="docutils literal notranslate"><span class="pre">UpdateMethods.add_event_handler()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.updates.UpdateMethods.catch_up"><code class="docutils literal notranslate"><span class="pre">UpdateMethods.catch_up()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.updates.UpdateMethods.list_event_handlers"><code class="docutils literal notranslate"><span class="pre">UpdateMethods.list_event_handlers()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.updates.UpdateMethods.on"><code class="docutils literal notranslate"><span class="pre">UpdateMethods.on()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.updates.UpdateMethods.remove_event_handler"><code class="docutils literal notranslate"><span class="pre">UpdateMethods.remove_event_handler()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.updates.UpdateMethods.run_until_disconnected"><code class="docutils literal notranslate"><span class="pre">UpdateMethods.run_until_disconnected()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.updates.UpdateMethods.set_receive_updates"><code class="docutils literal notranslate"><span class="pre">UpdateMethods.set_receive_updates()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.client.uploads.UploadMethods"><code class="docutils literal notranslate"><span class="pre">UploadMethods</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.uploads.UploadMethods.__weakref__"><code class="docutils literal notranslate"><span class="pre">UploadMethods.__weakref__</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.uploads.UploadMethods.send_file"><code class="docutils literal notranslate"><span class="pre">UploadMethods.send_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.uploads.UploadMethods.upload_file"><code class="docutils literal notranslate"><span class="pre">UploadMethods.upload_file()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#telethon.client.users.UserMethods"><code class="docutils literal notranslate"><span class="pre">UserMethods</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.users.UserMethods.__call__"><code class="docutils literal notranslate"><span class="pre">UserMethods.__call__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.users.UserMethods.__weakref__"><code class="docutils literal notranslate"><span class="pre">UserMethods.__weakref__</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.users.UserMethods.get_entity"><code class="docutils literal notranslate"><span class="pre">UserMethods.get_entity()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.users.UserMethods.get_input_entity"><code class="docutils literal notranslate"><span class="pre">UserMethods.get_input_entity()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.users.UserMethods.get_me"><code class="docutils literal notranslate"><span class="pre">UserMethods.get_me()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.users.UserMethods.get_peer_id"><code class="docutils literal notranslate"><span class="pre">UserMethods.get_peer_id()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.users.UserMethods.is_bot"><code class="docutils literal notranslate"><span class="pre">UserMethods.is_bot()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#telethon.client.users.UserMethods.is_user_authorized"><code class="docutils literal notranslate"><span class="pre">UserMethods.is_user_authorized()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="events.html">Update Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom.html">Custom package</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="errors.html">API Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="sessions.html">Sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="network.html">Connection Modes</a></li>
<li class="toctree-l1"><a class="reference internal" href="helpers.html">Helpers</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Telethon</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">TelegramClient</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/modules/client.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="telegramclient">
<span id="telethon-client"></span><h1>TelegramClient<a class="headerlink" href="#telegramclient" title="Permalink to this heading"></a></h1>
<p>The <a class="reference internal" href="#telethon.client.telegramclient.TelegramClient" title="telethon.client.telegramclient.TelegramClient"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TelegramClient</span></code></a> aggregates several mixin
classes to provide all the common functionality in a nice, Pythonic interface.
Each mixin has its own methods, which you all can use.</p>
<p><strong>In short, to create a client you must run:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">telethon</span> <span class="kn">import</span> <span class="n">TelegramClient</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">TelegramClient</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">api_id</span><span class="p">,</span> <span class="n">api_hash</span><span class="p">)</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="c1"># Now you can use all client methods listed below, like for example...</span>
    <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="s1">&#39;me&#39;</span><span class="p">,</span> <span class="s1">&#39;Hello to myself!&#39;</span><span class="p">)</span>

<span class="k">with</span> <span class="n">client</span><span class="p">:</span>
    <span class="n">client</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre></div>
</div>
<p>You <strong>don’t</strong> need to import these <code class="xref py py-obj docutils literal notranslate"><span class="pre">AuthMethods</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">MessageMethods</span></code>, etc.
Together they are the <a class="reference internal" href="#telethon.client.telegramclient.TelegramClient" title="telethon.client.telegramclient.TelegramClient"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TelegramClient</span></code></a> and
you can access all of their methods.</p>
<p>See <a class="reference internal" href="../quick-references/client-reference.html#client-ref"><span class="std std-ref">Client Reference</span></a> for a short summary.</p>
<span class="target" id="module-telethon.client.telegramclient"></span><dl class="py class">
<dt class="sig sig-object py" id="telethon.client.telegramclient.TelegramClient">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telethon.client.telegramclient.</span></span><span class="sig-name descname"><span class="pre">TelegramClient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">session:</span> <span class="pre">typing.Union[str,</span> <span class="pre">Session],</span> <span class="pre">api_id:</span> <span class="pre">int,</span> <span class="pre">api_hash:</span> <span class="pre">str,</span> <span class="pre">*,</span> <span class="pre">connection:</span> <span class="pre">typing.Type[Connection]</span> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'telethon.network.connection.tcpfull.ConnectionTcpFull'&gt;,</span> <span class="pre">use_ipv6:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False,</span> <span class="pre">proxy:</span> <span class="pre">~typing.Union[tuple,</span> <span class="pre">dict]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">local_addr:</span> <span class="pre">~typing.Union[str,</span> <span class="pre">tuple]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">timeout:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">10,</span> <span class="pre">request_retries:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">5,</span> <span class="pre">connection_retries:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">5,</span> <span class="pre">retry_delay:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">1,</span> <span class="pre">auto_reconnect:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True,</span> <span class="pre">sequential_updates:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False,</span> <span class="pre">flood_sleep_threshold:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">60,</span> <span class="pre">raise_last_call_error:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False,</span> <span class="pre">device_model:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">system_version:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">app_version:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">lang_code:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'en',</span> <span class="pre">system_lang_code:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'en',</span> <span class="pre">loop:</span> <span class="pre">~asyncio.events.AbstractEventLoop</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">base_logger:</span> <span class="pre">~typing.Union[str,</span> <span class="pre">~logging.Logger]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">receive_updates:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.telegramclient.TelegramClient" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#telethon.client.account.AccountMethods" title="telethon.client.account.AccountMethods"><code class="xref py py-class docutils literal notranslate"><span class="pre">AccountMethods</span></code></a>, <a class="reference internal" href="#telethon.client.auth.AuthMethods" title="telethon.client.auth.AuthMethods"><code class="xref py py-class docutils literal notranslate"><span class="pre">AuthMethods</span></code></a>, <a class="reference internal" href="#telethon.client.downloads.DownloadMethods" title="telethon.client.downloads.DownloadMethods"><code class="xref py py-class docutils literal notranslate"><span class="pre">DownloadMethods</span></code></a>, <a class="reference internal" href="#telethon.client.dialogs.DialogMethods" title="telethon.client.dialogs.DialogMethods"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialogMethods</span></code></a>, <a class="reference internal" href="#telethon.client.chats.ChatMethods" title="telethon.client.chats.ChatMethods"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChatMethods</span></code></a>, <a class="reference internal" href="#telethon.client.bots.BotMethods" title="telethon.client.bots.BotMethods"><code class="xref py py-class docutils literal notranslate"><span class="pre">BotMethods</span></code></a>, <a class="reference internal" href="#telethon.client.messages.MessageMethods" title="telethon.client.messages.MessageMethods"><code class="xref py py-class docutils literal notranslate"><span class="pre">MessageMethods</span></code></a>, <a class="reference internal" href="#telethon.client.uploads.UploadMethods" title="telethon.client.uploads.UploadMethods"><code class="xref py py-class docutils literal notranslate"><span class="pre">UploadMethods</span></code></a>, <a class="reference internal" href="#telethon.client.buttons.ButtonMethods" title="telethon.client.buttons.ButtonMethods"><code class="xref py py-class docutils literal notranslate"><span class="pre">ButtonMethods</span></code></a>, <a class="reference internal" href="#telethon.client.updates.UpdateMethods" title="telethon.client.updates.UpdateMethods"><code class="xref py py-class docutils literal notranslate"><span class="pre">UpdateMethods</span></code></a>, <a class="reference internal" href="#telethon.client.messageparse.MessageParseMethods" title="telethon.client.messageparse.MessageParseMethods"><code class="xref py py-class docutils literal notranslate"><span class="pre">MessageParseMethods</span></code></a>, <a class="reference internal" href="#telethon.client.users.UserMethods" title="telethon.client.users.UserMethods"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserMethods</span></code></a>, <a class="reference internal" href="#telethon.client.telegrambaseclient.TelegramBaseClient" title="telethon.client.telegrambaseclient.TelegramBaseClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">TelegramBaseClient</span></code></a></p>
</dd></dl>

<span class="target" id="module-telethon.client.telegrambaseclient"></span><dl class="py class">
<dt class="sig sig-object py" id="telethon.client.telegrambaseclient.TelegramBaseClient">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telethon.client.telegrambaseclient.</span></span><span class="sig-name descname"><span class="pre">TelegramBaseClient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">session:</span> <span class="pre">typing.Union[str,</span> <span class="pre">Session],</span> <span class="pre">api_id:</span> <span class="pre">int,</span> <span class="pre">api_hash:</span> <span class="pre">str,</span> <span class="pre">*,</span> <span class="pre">connection:</span> <span class="pre">typing.Type[Connection]</span> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'telethon.network.connection.tcpfull.ConnectionTcpFull'&gt;,</span> <span class="pre">use_ipv6:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False,</span> <span class="pre">proxy:</span> <span class="pre">~typing.Union[tuple,</span> <span class="pre">dict]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">local_addr:</span> <span class="pre">~typing.Union[str,</span> <span class="pre">tuple]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">timeout:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">10,</span> <span class="pre">request_retries:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">5,</span> <span class="pre">connection_retries:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">5,</span> <span class="pre">retry_delay:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">1,</span> <span class="pre">auto_reconnect:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True,</span> <span class="pre">sequential_updates:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False,</span> <span class="pre">flood_sleep_threshold:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">60,</span> <span class="pre">raise_last_call_error:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False,</span> <span class="pre">device_model:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">system_version:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">app_version:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">lang_code:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'en',</span> <span class="pre">system_lang_code:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'en',</span> <span class="pre">loop:</span> <span class="pre">~asyncio.events.AbstractEventLoop</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">base_logger:</span> <span class="pre">~typing.Union[str,</span> <span class="pre">~logging.Logger]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">receive_updates:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.telegrambaseclient.TelegramBaseClient" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>This is the abstract base class for the client. It defines some
basic stuff like connecting, switching data center, etc, and
leaves the <a class="reference internal" href="#telethon.client.telegrambaseclient.TelegramBaseClient.__call__" title="telethon.client.telegrambaseclient.TelegramBaseClient.__call__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__call__</span></code></a> unimplemented.</p>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>session (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> | <a class="reference internal" href="sessions.html#telethon.sessions.abstract.Session" title="telethon.sessions.abstract.Session"><code class="xref py py-obj docutils literal notranslate"><span class="pre">telethon.sessions.abstract.Session</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>):</dt><dd><p>The file name of the session file to be used if a string is
given (it may be a full path), or the Session instance to be
used otherwise. If it’s <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, the session will not be saved,
and you should call <a class="reference internal" href="#telethon.client.auth.AuthMethods.log_out" title="telethon.client.auth.AuthMethods.log_out"><code class="xref py py-meth docutils literal notranslate"><span class="pre">log_out()</span></code></a> when you’re done.</p>
<p>Note that if you pass a string it will be a file in the current
working directory, although you can also pass absolute paths.</p>
<p>The session file contains enough information for you to login
without re-sending the code, so if you have to enter the code
more than once, maybe you’re changing the working directory,
renaming or removing the file, or using random names.</p>
</dd>
<dt>api_id (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>):</dt><dd><p>The API ID you obtained from <a class="reference external" href="https://my.telegram.org">https://my.telegram.org</a>.</p>
</dd>
<dt>api_hash (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>):</dt><dd><p>The API hash you obtained from <a class="reference external" href="https://my.telegram.org">https://my.telegram.org</a>.</p>
</dd>
<dt>connection (<code class="xref py py-obj docutils literal notranslate"><span class="pre">telethon.network.connection.common.Connection</span></code>, optional):</dt><dd><p>The connection instance to be used when creating a new connection
to the servers. It <strong>must</strong> be a type.</p>
<p>Defaults to <a class="reference internal" href="network.html#telethon.network.connection.tcpfull.ConnectionTcpFull" title="telethon.network.connection.tcpfull.ConnectionTcpFull"><code class="xref py py-obj docutils literal notranslate"><span class="pre">telethon.network.connection.tcpfull.ConnectionTcpFull</span></code></a>.</p>
</dd>
<dt>use_ipv6 (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether to connect to the servers through IPv6 or not.
By default this is <code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code> as IPv6 support is not
too widespread yet.</p>
</dd>
<dt>proxy (<code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code>, optional):</dt><dd><p>An iterable consisting of the proxy info. If <code class="xref py py-obj docutils literal notranslate"><span class="pre">connection</span></code> is
one of <code class="xref py py-obj docutils literal notranslate"><span class="pre">MTProxy</span></code>, then it should contain MTProxy credentials:
<code class="docutils literal notranslate"><span class="pre">('hostname',</span> <span class="pre">port,</span> <span class="pre">'secret')</span></code>. Otherwise, it’s meant to store
function parameters for PySocks, like <code class="docutils literal notranslate"><span class="pre">(type,</span> <span class="pre">'hostname',</span> <span class="pre">port)</span></code>.
See <a class="reference external" href="https://github.com/Anorov/PySocks#usage-1">https://github.com/Anorov/PySocks#usage-1</a> for more.</p>
</dd>
<dt>local_addr (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code>, optional):</dt><dd><p>Local host address (and port, optionally) used to bind the socket to locally.
You only need to use this if you have multiple network cards and
want to use a specific one.</p>
</dd>
<dt>timeout (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, optional):</dt><dd><p>The timeout in seconds to be used when connecting.
This is <strong>not</strong> the timeout to be used when <code class="docutils literal notranslate"><span class="pre">await</span></code>’ing for
invoked requests, and you should use <code class="docutils literal notranslate"><span class="pre">asyncio.wait</span></code> or
<code class="docutils literal notranslate"><span class="pre">asyncio.wait_for</span></code> for that.</p>
</dd>
<dt>request_retries (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, optional):</dt><dd><p>How many times a request should be retried. Request are retried
when Telegram is having internal issues (due to either
<code class="docutils literal notranslate"><span class="pre">errors.ServerError</span></code> or <code class="docutils literal notranslate"><span class="pre">errors.RpcCallFailError</span></code>),
when there is a <code class="docutils literal notranslate"><span class="pre">errors.FloodWaitError</span></code> less than
<a class="reference internal" href="#telethon.client.telegrambaseclient.TelegramBaseClient.flood_sleep_threshold" title="telethon.client.telegrambaseclient.TelegramBaseClient.flood_sleep_threshold"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flood_sleep_threshold</span></code></a>, or when there’s a migrate error.</p>
<p>May take a negative or <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> value for infinite retries, but
this is not recommended, since some requests can always trigger
a call fail (such as searching for messages).</p>
</dd>
<dt>connection_retries (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, optional):</dt><dd><p>How many times the reconnection should retry, either on the
initial connection or when Telegram disconnects us. May be
set to a negative or <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> value for infinite retries, but
this is not recommended, since the program can get stuck in an
infinite loop.</p>
</dd>
<dt>retry_delay (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, optional):</dt><dd><p>The delay in seconds to sleep between automatic reconnections.</p>
</dd>
<dt>auto_reconnect (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether reconnection should be retried <code class="xref py py-obj docutils literal notranslate"><span class="pre">connection_retries</span></code>
times automatically if Telegram disconnects us or not.</p>
</dd>
<dt>sequential_updates (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>By default every incoming update will create a new task, so
you can handle several updates in parallel. Some scripts need
the order in which updates are processed to be sequential, and
this setting allows them to do so.</p>
<p>If set to <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>, incoming updates will be put in a queue
and processed sequentially. This means your event handlers
should <em>not</em> perform long-running operations since new
updates are put inside of an unbounded queue.</p>
</dd>
<dt>flood_sleep_threshold (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, optional):</dt><dd><p>The threshold below which the library should automatically
sleep on flood wait and slow mode wait errors (inclusive). For instance, if a
<code class="docutils literal notranslate"><span class="pre">FloodWaitError</span></code> for 17s occurs and <a class="reference internal" href="#telethon.client.telegrambaseclient.TelegramBaseClient.flood_sleep_threshold" title="telethon.client.telegrambaseclient.TelegramBaseClient.flood_sleep_threshold"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flood_sleep_threshold</span></code></a>
is 20s, the library will <code class="docutils literal notranslate"><span class="pre">sleep</span></code> automatically. If the error
was for 21s, it would <code class="docutils literal notranslate"><span class="pre">raise</span> <span class="pre">FloodWaitError</span></code> instead. Values
larger than a day (like <code class="docutils literal notranslate"><span class="pre">float('inf')</span></code>) will be changed to a day.</p>
</dd>
<dt>raise_last_call_error (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>When API calls fail in a way that causes Telethon to retry
automatically, should the RPC error of the last attempt be raised
instead of a generic ValueError. This is mostly useful for
detecting when Telegram has internal issues.</p>
</dd>
<dt>device_model (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional):</dt><dd><p>“Device model” to be sent when creating the initial connection.
Defaults to ‘PC (n)bit’ derived from <code class="docutils literal notranslate"><span class="pre">platform.uname().machine</span></code>, or its direct value if unknown.</p>
</dd>
<dt>system_version (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional):</dt><dd><p>“System version” to be sent when creating the initial connection.
Defaults to <code class="docutils literal notranslate"><span class="pre">platform.uname().release</span></code> stripped of everything ahead of -.</p>
</dd>
<dt>app_version (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional):</dt><dd><p>“App version” to be sent when creating the initial connection.
Defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">telethon.version.__version__</span></code>.</p>
</dd>
<dt>lang_code (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional):</dt><dd><p>“Language code” to be sent when creating the initial connection.
Defaults to <code class="docutils literal notranslate"><span class="pre">'en'</span></code>.</p>
</dd>
<dt>system_lang_code (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional):</dt><dd><p>“System lang code”  to be sent when creating the initial connection.
Defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">lang_code</span></code>.</p>
</dd>
<dt>loop (<code class="xref py py-obj docutils literal notranslate"><span class="pre">asyncio.AbstractEventLoop</span></code>, optional):</dt><dd><p>Asyncio event loop to use. Defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">asyncio.get_event_loop()</span></code>.
This argument is ignored.</p>
</dd>
<dt>base_logger (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">logging.Logger</span></code>, optional):</dt><dd><p>Base logger name or instance to use.
If a <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> is given, it’ll be passed to <code class="xref py py-obj docutils literal notranslate"><span class="pre">logging.getLogger()</span></code>. If a
<code class="xref py py-obj docutils literal notranslate"><span class="pre">logging.Logger</span></code> is given, it’ll be used directly. If something
else or nothing is given, the default logger will be used.</p>
</dd>
<dt>receive_updates (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the client will receive updates or not. By default, updates
will be received from Telegram as they occur.</p>
<p>Turning this off means that Telegram will not send updates at all
so event handlers, conversations, and QR login will not work.
However, certain scripts don’t need updates, so this will reduce
the amount of bandwidth used.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.telegrambaseclient.TelegramBaseClient.__call__">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ordered</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.telegrambaseclient.TelegramBaseClient.__call__" title="Permalink to this definition"></a></dt>
<dd><p>Invokes (sends) one or more MTProtoRequests and returns (receives)
their result.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>request (<code class="xref py py-obj docutils literal notranslate"><span class="pre">TLObject</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code>):</dt><dd><p>The request or requests to be invoked.</p>
</dd>
<dt>ordered (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the requests (if more than one was given) should be
executed sequentially on the server. They run in arbitrary
order by default.</p>
</dd>
<dt>flood_sleep_threshold (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, optional):</dt><dd><p>The flood sleep threshold to use for this request. This overrides
the default value stored in
<a class="reference internal" href="#telethon.client.telegrambaseclient.TelegramBaseClient.flood_sleep_threshold" title="telethon.client.telegrambaseclient.TelegramBaseClient.flood_sleep_threshold"><code class="xref py py-obj docutils literal notranslate"><span class="pre">client.flood_sleep_threshold</span></code></a></p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>The result of the request (often a <code class="xref py py-obj docutils literal notranslate"><span class="pre">TLObject</span></code>) or a list of
results if more than one request was given.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="telethon.client.telegrambaseclient.TelegramBaseClient.__version__">
<span class="sig-name descname"><span class="pre">__version__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'0.145'</span></em><a class="headerlink" href="#telethon.client.telegrambaseclient.TelegramBaseClient.__version__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="telethon.client.telegrambaseclient.TelegramBaseClient.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#telethon.client.telegrambaseclient.TelegramBaseClient.__weakref__" title="Permalink to this definition"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.telegrambaseclient.TelegramBaseClient.connect">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#telethon.client.telegrambaseclient.TelegramBaseClient.connect" title="Permalink to this definition"></a></dt>
<dd><p>Connects to Telegram.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Connect means connect and nothing else, and only one low-level
request is made to notify Telegram about which layer we will be
using.</p>
<p>Before Telegram sends you updates, you need to make a high-level
request, like <a class="reference internal" href="#telethon.client.users.UserMethods.get_me" title="telethon.client.users.UserMethods.get_me"><code class="xref py py-obj docutils literal notranslate"><span class="pre">client.get_me()</span></code></a>,
as described in <a class="reference external" href="https://core.telegram.org/api/updates">https://core.telegram.org/api/updates</a>.</p>
</div>
<dl>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Failed to connect&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.telegrambaseclient.TelegramBaseClient.disconnect">
<span class="sig-name descname"><span class="pre">disconnect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.telegrambaseclient.TelegramBaseClient.disconnect" title="Permalink to this definition"></a></dt>
<dd><p>Disconnects from Telegram.</p>
<p>If the event loop is already running, this method returns a
coroutine that you should await on your own code; otherwise
the loop is ran until said coroutine completes.</p>
<dl>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># You don&#39;t need to use this if you used &quot;with client&quot;</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="telethon.client.telegrambaseclient.TelegramBaseClient.disconnected">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">disconnected</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Future</span></em><a class="headerlink" href="#telethon.client.telegrambaseclient.TelegramBaseClient.disconnected" title="Permalink to this definition"></a></dt>
<dd><p>Property with a <code class="docutils literal notranslate"><span class="pre">Future</span></code> that resolves upon disconnection.</p>
<dl>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Wait for a disconnection to occur</span>
<span class="k">try</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">disconnected</span>
<span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error on disconnect&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="telethon.client.telegrambaseclient.TelegramBaseClient.flood_sleep_threshold">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">flood_sleep_threshold</span></span><a class="headerlink" href="#telethon.client.telegrambaseclient.TelegramBaseClient.flood_sleep_threshold" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.telegrambaseclient.TelegramBaseClient.is_connected">
<span class="sig-name descname"><span class="pre">is_connected</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#telethon.client.telegrambaseclient.TelegramBaseClient.is_connected" title="Permalink to this definition"></a></dt>
<dd><p>Returns <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> if the user has connected.</p>
<p>This method is <strong>not</strong> asynchronous (don’t use <code class="docutils literal notranslate"><span class="pre">await</span></code> on it).</p>
<dl>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="n">client</span><span class="o">.</span><span class="n">is_connected</span><span class="p">():</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="telethon.client.telegrambaseclient.TelegramBaseClient.loop">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">loop</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">AbstractEventLoop</span></em><a class="headerlink" href="#telethon.client.telegrambaseclient.TelegramBaseClient.loop" title="Permalink to this definition"></a></dt>
<dd><p>Property with the <code class="docutils literal notranslate"><span class="pre">asyncio</span></code> event loop used by this client.</p>
<dl>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Download media in the background</span>
<span class="n">task</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">download_media</span><span class="p">())</span>

<span class="c1"># Do some work</span>
<span class="o">...</span>

<span class="c1"># Join the task (wait for it to complete)</span>
<span class="k">await</span> <span class="n">task</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.telegrambaseclient.TelegramBaseClient.set_proxy">
<span class="sig-name descname"><span class="pre">set_proxy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">proxy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.telegrambaseclient.TelegramBaseClient.set_proxy" title="Permalink to this definition"></a></dt>
<dd><p>Changes the proxy which will be used on next (re)connection.</p>
<p>Method has no immediate effects if the client is currently connected.</p>
<dl class="simple">
<dt>The new proxy will take it’s effect on the next reconnection attempt:</dt><dd><ul class="simple">
<li><p>on a call <code class="xref py py-obj docutils literal notranslate"><span class="pre">await</span> <span class="pre">client.connect()</span></code> (after complete disconnect)</p></li>
<li><p>on auto-reconnect attempt (e.g, after previous connection was lost)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-telethon.client.account"></span><dl class="py class">
<dt class="sig sig-object py" id="telethon.client.account.AccountMethods">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telethon.client.account.</span></span><span class="sig-name descname"><span class="pre">AccountMethods</span></span><a class="headerlink" href="#telethon.client.account.AccountMethods" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="telethon.client.account.AccountMethods.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#telethon.client.account.AccountMethods.__weakref__" title="Permalink to this definition"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.account.AccountMethods.end_takeout">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">end_takeout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">success</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#telethon.client.account.AccountMethods.end_takeout" title="Permalink to this definition"></a></dt>
<dd><p>Finishes the current takeout session.</p>
<dl>
<dt>Arguments</dt><dd><dl class="simple">
<dt>success (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>Whether the takeout completed successfully or not.</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> if the operation was successful, <code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">end_takeout</span><span class="p">(</span><span class="n">success</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.account.AccountMethods.takeout">
<span class="sig-name descname"><span class="pre">takeout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">finalize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contacts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chats</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">megagroups</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_file_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#telethon.client.telegramclient.TelegramClient" title="telethon.client.telegramclient.TelegramClient"><span class="pre">TelegramClient</span></a></span></span><a class="headerlink" href="#telethon.client.account.AccountMethods.takeout" title="Permalink to this definition"></a></dt>
<dd><p>Returns a <a class="reference internal" href="#telethon-client"><span class="std std-ref">TelegramClient</span></a> which calls methods behind a takeout session.</p>
<p>It does so by creating a proxy object over the current client through
which making requests will use <a class="reference external" href="https://tl.telethon.dev/?q=InvokeWithTakeoutRequest">InvokeWithTakeoutRequest</a> to wrap
them. In other words, returns the current client modified so that
requests are done as a takeout:</p>
<p>Some of the calls made through the takeout session will have lower
flood limits. This is useful if you want to export the data from
conversations or mass-download media, since the rate limits will
be lower. Only some requests will be affected, and you will need
to adjust the <code class="xref py py-obj docutils literal notranslate"><span class="pre">wait_time</span></code> of methods like <a class="reference internal" href="#telethon.client.messages.MessageMethods.iter_messages" title="telethon.client.messages.MessageMethods.iter_messages"><code class="xref py py-obj docutils literal notranslate"><span class="pre">client.iter_messages</span></code></a>.</p>
<p>By default, all parameters are <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, and you need to enable those
you plan to use by setting them to either <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>You should <code class="docutils literal notranslate"><span class="pre">except</span> <span class="pre">errors.TakeoutInitDelayError</span> <span class="pre">as</span> <span class="pre">e</span></code>, since this
exception will raise depending on the condition of the session. You
can then access <code class="docutils literal notranslate"><span class="pre">e.seconds</span></code> to know how long you should wait for
before calling the method again.</p>
<p>There’s also a <code class="xref py py-obj docutils literal notranslate"><span class="pre">success</span></code> property available in the takeout proxy
object, so from the <code class="xref py py-obj docutils literal notranslate"><span class="pre">with</span></code> body you can set the boolean result that
will be sent back to Telegram. But if it’s left <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> as by
default, then the action is based on the <code class="xref py py-obj docutils literal notranslate"><span class="pre">finalize</span></code> parameter. If
it’s <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> then the takeout will be finished, and if no exception
occurred during it, then <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> will be considered as a result.
Otherwise, the takeout will not be finished and its ID will be
preserved for future usage as <a class="reference internal" href="sessions.html#telethon.sessions.abstract.Session.takeout_id" title="telethon.sessions.abstract.Session.takeout_id"><code class="xref py py-obj docutils literal notranslate"><span class="pre">client.session.takeout_id</span></code></a>.</p>
<dl>
<dt>Arguments</dt><dd><dl class="simple">
<dt>finalize (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>Whether the takeout session should be finalized upon
exit or not.</p>
</dd>
<dt>contacts (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>Set to <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> if you plan on downloading contacts.</p>
</dd>
<dt>users (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>Set to <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> if you plan on downloading information
from users and their private conversations with you.</p>
</dd>
<dt>chats (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>Set to <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> if you plan on downloading information
from small group chats, such as messages and media.</p>
</dd>
<dt>megagroups (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>Set to <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> if you plan on downloading information
from megagroups (channels), such as messages and media.</p>
</dd>
<dt>channels (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>Set to <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> if you plan on downloading information
from broadcast channels, such as messages and media.</p>
</dd>
<dt>files (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>Set to <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> if you plan on downloading media and
you don’t only wish to export messages.</p>
</dd>
<dt>max_file_size (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>):</dt><dd><p>The maximum file size, in bytes, that you plan
to download for each message with media.</p>
</dd>
</dl>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">telethon</span> <span class="kn">import</span> <span class="n">errors</span>

<span class="k">try</span><span class="p">:</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">client</span><span class="o">.</span><span class="n">takeout</span><span class="p">()</span> <span class="k">as</span> <span class="n">takeout</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_messages</span><span class="p">(</span><span class="s1">&#39;me&#39;</span><span class="p">)</span>  <span class="c1"># normal call</span>
        <span class="k">await</span> <span class="n">takeout</span><span class="o">.</span><span class="n">get_messages</span><span class="p">(</span><span class="s1">&#39;me&#39;</span><span class="p">)</span>  <span class="c1"># wrapped through takeout (less limits)</span>

        <span class="k">async</span> <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">takeout</span><span class="o">.</span><span class="n">iter_messages</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">wait_time</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
            <span class="o">...</span>  <span class="c1"># Do something with the message</span>

<span class="k">except</span> <span class="n">errors</span><span class="o">.</span><span class="n">TakeoutInitDelayError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Must wait&#39;</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">seconds</span><span class="p">,</span> <span class="s1">&#39;before takeout&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-telethon.client.auth"></span><dl class="py class">
<dt class="sig sig-object py" id="telethon.client.auth.AuthMethods">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telethon.client.auth.</span></span><span class="sig-name descname"><span class="pre">AuthMethods</span></span><a class="headerlink" href="#telethon.client.auth.AuthMethods" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.auth.AuthMethods.__aenter__">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">__aenter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.auth.AuthMethods.__aenter__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.auth.AuthMethods.__aexit__">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">__aexit__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.auth.AuthMethods.__aexit__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.auth.AuthMethods.__enter__">
<span class="sig-name descname"><span class="pre">__enter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.auth.AuthMethods.__enter__" title="Permalink to this definition"></a></dt>
<dd><p>Helps to cut boilerplate on async context
managers that offer synchronous variants.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.auth.AuthMethods.__exit__">
<span class="sig-name descname"><span class="pre">__exit__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.auth.AuthMethods.__exit__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="telethon.client.auth.AuthMethods.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#telethon.client.auth.AuthMethods.__weakref__" title="Permalink to this definition"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.auth.AuthMethods.edit_2fa">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">edit_2fa</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current_password</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_password</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email_code_callback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#telethon.client.auth.AuthMethods.edit_2fa" title="Permalink to this definition"></a></dt>
<dd><p>Changes the 2FA settings of the logged in user.</p>
<p>Review carefully the parameter explanations before using this method.</p>
<p>Note that this method may be <em>incredibly</em> slow depending on the
prime numbers that must be used during the process to make sure
that everything is safe.</p>
<p>Has no effect if both current and new password are omitted.</p>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>current_password (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional):</dt><dd><p>The current password, to authorize changing to <code class="docutils literal notranslate"><span class="pre">new_password</span></code>.
Must be set if changing existing 2FA settings.
Must <strong>not</strong> be set if 2FA is currently disabled.
Passing this by itself will remove 2FA (if correct).</p>
</dd>
<dt>new_password (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional):</dt><dd><p>The password to set as 2FA.
If 2FA was already enabled, <code class="docutils literal notranslate"><span class="pre">current_password</span></code> <strong>must</strong> be set.
Leaving this blank or <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> will remove the password.</p>
</dd>
<dt>hint (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional):</dt><dd><p>Hint to be displayed by Telegram when it asks for 2FA.
Leaving unspecified is highly discouraged.
Has no effect if <code class="docutils literal notranslate"><span class="pre">new_password</span></code> is not set.</p>
</dd>
<dt>email (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional):</dt><dd><p>Recovery and verification email. If present, you must also
set <code class="xref py py-obj docutils literal notranslate"><span class="pre">email_code_callback</span></code>, else it raises <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>.</p>
</dd>
<dt>email_code_callback (<code class="xref py py-obj docutils literal notranslate"><span class="pre">callable</span></code>, optional):</dt><dd><p>If an email is provided, a callback that returns the code sent
to it must also be set. This callback may be asynchronous.
It should return a string with the code. The length of the
code will be passed to the callback as an input parameter.</p>
<p>If the callback returns an invalid code, it will raise
<code class="docutils literal notranslate"><span class="pre">CodeInvalidError</span></code>.</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> if successful, <code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Setting a password for your account which didn&#39;t have</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">edit_2fa</span><span class="p">(</span><span class="n">new_password</span><span class="o">=</span><span class="s1">&#39;I_&lt;3_Telethon&#39;</span><span class="p">)</span>

<span class="c1"># Removing the password</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">edit_2fa</span><span class="p">(</span><span class="n">current_password</span><span class="o">=</span><span class="s1">&#39;I_&lt;3_Telethon&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.auth.AuthMethods.log_out">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">log_out</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#telethon.client.auth.AuthMethods.log_out" title="Permalink to this definition"></a></dt>
<dd><p>Logs out Telegram and deletes the current <code class="docutils literal notranslate"><span class="pre">*.session</span></code> file.</p>
<dl>
<dt>Returns</dt><dd><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> if the operation was successful.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Note: you will need to login again!</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">log_out</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.auth.AuthMethods.qr_login">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">qr_login</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignored_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="custom.html#telethon.tl.custom.qrlogin.QRLogin" title="telethon.tl.custom.qrlogin.QRLogin"><span class="pre">QRLogin</span></a></span></span><a class="headerlink" href="#telethon.client.auth.AuthMethods.qr_login" title="Permalink to this definition"></a></dt>
<dd><p>Initiates the QR login procedure.</p>
<p>Note that you must be connected before invoking this, as with any
other request.</p>
<p>It is up to the caller to decide how to present the code to the user,
whether it’s the URL, using the token bytes directly, or generating
a QR code and displaying it by other means.</p>
<p>See the documentation for <code class="xref py py-obj docutils literal notranslate"><span class="pre">QRLogin</span></code> to see how to proceed after this.</p>
<dl>
<dt>Arguments</dt><dd><dl class="simple">
<dt>ignored_ids (List[<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>]):</dt><dd><p>List of already logged-in user IDs, to prevent logging in
twice with the same user.</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p>An instance of <code class="xref py py-obj docutils literal notranslate"><span class="pre">QRLogin</span></code>.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">display_url_as_qr</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
    <span class="k">pass</span>  <span class="c1"># do whatever to show url as a qr to the user</span>

<span class="n">qr_login</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">qr_login</span><span class="p">()</span>
<span class="n">display_url_as_qr</span><span class="p">(</span><span class="n">qr_login</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

<span class="c1"># Important! You need to wait for the login to complete!</span>
<span class="k">await</span> <span class="n">qr_login</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.auth.AuthMethods.send_code_request">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">send_code_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phone</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_sms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">types.auth.SentCode</span></span></span><a class="headerlink" href="#telethon.client.auth.AuthMethods.send_code_request" title="Permalink to this definition"></a></dt>
<dd><p>Sends the Telegram code needed to login to the given phone number.</p>
<dl>
<dt>Arguments</dt><dd><dl class="simple">
<dt>phone (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>):</dt><dd><p>The phone to which the code will be sent.</p>
</dd>
<dt>force_sms (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether to force sending as SMS.</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p>An instance of <a class="reference external" href="https://tl.telethon.dev/?q=SentCode">SentCode</a>.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">phone</span> <span class="o">=</span> <span class="s1">&#39;+34 123 123 123&#39;</span>
<span class="n">sent</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_code_request</span><span class="p">(</span><span class="n">phone</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sent</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.auth.AuthMethods.sign_in">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sign_in</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phone</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bot_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phone_code_hash</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">types.User</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">types.auth.SentCode</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#telethon.client.auth.AuthMethods.sign_in" title="Permalink to this definition"></a></dt>
<dd><p>Logs in to Telegram to an existing user or bot account.</p>
<p>You should only use this if you are not authorized yet.</p>
<p>This method will send the code if it’s not provided.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In most cases, you should simply use <a class="reference internal" href="#telethon.client.auth.AuthMethods.start" title="telethon.client.auth.AuthMethods.start"><code class="xref py py-obj docutils literal notranslate"><span class="pre">start()</span></code></a> and not this method.</p>
</div>
<dl>
<dt>Arguments</dt><dd><dl class="simple">
<dt>phone (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>):</dt><dd><p>The phone to send the code to if no code was provided,
or to override the phone that was previously used with
these requests.</p>
</dd>
<dt>code (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>):</dt><dd><p>The code that Telegram sent. Note that if you have sent this
code through the application itself it will immediately
expire. If you want to send the code, obfuscate it somehow.
If you’re not doing any of this you can ignore this note.</p>
</dd>
<dt>password (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>):</dt><dd><p>2FA password, should be used if a previous call raised
<code class="docutils literal notranslate"><span class="pre">SessionPasswordNeededError</span></code>.</p>
</dd>
<dt>bot_token (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>):</dt><dd><p>Used to sign in as a bot. Not all requests will be available.
This should be the hash the <a class="reference external" href="https://t.me/BotFather">&#64;BotFather</a>
gave you.</p>
</dd>
<dt>phone_code_hash (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional):</dt><dd><p>The hash returned by <a class="reference internal" href="#telethon.client.auth.AuthMethods.send_code_request" title="telethon.client.auth.AuthMethods.send_code_request"><code class="xref py py-obj docutils literal notranslate"><span class="pre">send_code_request</span></code></a>. This can be left as
<code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> to use the last hash known for the phone to be used.</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p>The signed in user, or the information about
<a class="reference internal" href="#telethon.client.auth.AuthMethods.send_code_request" title="telethon.client.auth.AuthMethods.send_code_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">send_code_request()</span></code></a>.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">phone</span> <span class="o">=</span> <span class="s1">&#39;+34 123 123 123&#39;</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">sign_in</span><span class="p">(</span><span class="n">phone</span><span class="p">)</span>  <span class="c1"># send code</span>

<span class="n">code</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;enter code: &#39;</span><span class="p">)</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">sign_in</span><span class="p">(</span><span class="n">phone</span><span class="p">,</span> <span class="n">code</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.auth.AuthMethods.sign_up">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sign_up</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phone</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phone_code_hash</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">types.User</span></span></span><a class="headerlink" href="#telethon.client.auth.AuthMethods.sign_up" title="Permalink to this definition"></a></dt>
<dd><p>Signs up to Telegram as a new user account.</p>
<p>Use this if you don’t have an account yet.</p>
<p>You must call <a class="reference internal" href="#telethon.client.auth.AuthMethods.send_code_request" title="telethon.client.auth.AuthMethods.send_code_request"><code class="xref py py-obj docutils literal notranslate"><span class="pre">send_code_request</span></code></a> first.</p>
<p><strong>By using this method you’re agreeing to Telegram’s
Terms of Service. This is required and your account
will be banned otherwise.</strong> See <a class="reference external" href="https://telegram.org/tos">https://telegram.org/tos</a>
and <a class="reference external" href="https://core.telegram.org/api/terms">https://core.telegram.org/api/terms</a>.</p>
<dl>
<dt>Arguments</dt><dd><dl class="simple">
<dt>code (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>):</dt><dd><p>The code sent by Telegram</p>
</dd>
<dt>first_name (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>):</dt><dd><p>The first name to be used by the new account.</p>
</dd>
<dt>last_name (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional)</dt><dd><p>Optional last name.</p>
</dd>
<dt>phone (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional):</dt><dd><p>The phone to sign up. This will be the last phone used by
default (you normally don’t need to set this).</p>
</dd>
<dt>phone_code_hash (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional):</dt><dd><p>The hash returned by <a class="reference internal" href="#telethon.client.auth.AuthMethods.send_code_request" title="telethon.client.auth.AuthMethods.send_code_request"><code class="xref py py-obj docutils literal notranslate"><span class="pre">send_code_request</span></code></a>. This can be left as
<code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> to use the last hash known for the phone to be used.</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p>The new created <a class="reference external" href="https://tl.telethon.dev/?q=User">User</a>.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">phone</span> <span class="o">=</span> <span class="s1">&#39;+34 123 123 123&#39;</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_code_request</span><span class="p">(</span><span class="n">phone</span><span class="p">)</span>

<span class="n">code</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;enter code: &#39;</span><span class="p">)</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">sign_up</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">first_name</span><span class="o">=</span><span class="s1">&#39;Anna&#39;</span><span class="p">,</span> <span class="n">last_name</span><span class="o">=</span><span class="s1">&#39;Banana&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.auth.AuthMethods.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phone:</span> <span class="pre">~typing.Callable[[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]</span> <span class="pre">=</span> <span class="pre">&lt;function</span> <span class="pre">AuthMethods.&lt;lambda&gt;&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password:</span> <span class="pre">~typing.Callable[[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]</span> <span class="pre">=</span> <span class="pre">&lt;function</span> <span class="pre">AuthMethods.&lt;lambda&gt;&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bot_token:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_sms:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">code_callback:</span> <span class="pre">~typing.Callable[[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">~typing.Union[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">int]]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'New</span> <span class="pre">User'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_attempts:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">3</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#telethon.client.telegramclient.TelegramClient" title="telethon.client.telegramclient.TelegramClient"><span class="pre">TelegramClient</span></a></span></span><a class="headerlink" href="#telethon.client.auth.AuthMethods.start" title="Permalink to this definition"></a></dt>
<dd><p>Starts the client (connects and logs in if necessary).</p>
<p>By default, this method will be interactive (asking for
user input if needed), and will handle 2FA if enabled too.</p>
<p>If the phone doesn’t belong to an existing account (and will hence
<a class="reference internal" href="#telethon.client.auth.AuthMethods.sign_up" title="telethon.client.auth.AuthMethods.sign_up"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sign_up</span></code></a> for a new one),  <strong>you are agreeing to Telegram’s
Terms of Service. This is required and your account
will be banned otherwise.</strong> See <a class="reference external" href="https://telegram.org/tos">https://telegram.org/tos</a>
and <a class="reference external" href="https://core.telegram.org/api/terms">https://core.telegram.org/api/terms</a>.</p>
<p>If the event loop is already running, this method returns a
coroutine that you should await on your own code; otherwise
the loop is ran until said coroutine completes.</p>
<dl>
<dt>Arguments</dt><dd><dl class="simple">
<dt>phone (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">callable</span></code>):</dt><dd><p>The phone (or callable without arguments to get it)
to which the code will be sent. If a bot-token-like
string is given, it will be used as such instead.
The argument may be a coroutine.</p>
</dd>
<dt>password (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">callable</span></code>, optional):</dt><dd><p>The password for 2 Factor Authentication (2FA).
This is only required if it is enabled in your account.
The argument may be a coroutine.</p>
</dd>
<dt>bot_token (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>):</dt><dd><p>Bot Token obtained by <a class="reference external" href="https://t.me/BotFather">&#64;BotFather</a>
to log in as a bot. Cannot be specified with <code class="docutils literal notranslate"><span class="pre">phone</span></code> (only
one of either allowed).</p>
</dd>
<dt>force_sms (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether to force sending the code request as SMS.
This only makes sense when signing in with a <code class="xref py py-obj docutils literal notranslate"><span class="pre">phone</span></code>.</p>
</dd>
<dt>code_callback (<code class="xref py py-obj docutils literal notranslate"><span class="pre">callable</span></code>, optional):</dt><dd><p>A callable that will be used to retrieve the Telegram
login code. Defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">input()</span></code>.
The argument may be a coroutine.</p>
</dd>
<dt>first_name (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional):</dt><dd><p>The first name to be used if signing up. This has no
effect if the account already exists and you sign in.</p>
</dd>
<dt>last_name (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional):</dt><dd><p>Similar to the first name, but for the last. Optional.</p>
</dd>
<dt>max_attempts (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional):</dt><dd><p>How many times the code/password callback should be
retried or switching between signing in and signing up.</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p>This <code class="xref py py-obj docutils literal notranslate"><span class="pre">TelegramClient</span></code>, so initialization
can be chained with <code class="docutils literal notranslate"><span class="pre">.start()</span></code>.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client</span> <span class="o">=</span> <span class="n">TelegramClient</span><span class="p">(</span><span class="s1">&#39;anon&#39;</span><span class="p">,</span> <span class="n">api_id</span><span class="p">,</span> <span class="n">api_hash</span><span class="p">)</span>

<span class="c1"># Starting as a bot account</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">bot_token</span><span class="o">=</span><span class="n">bot_token</span><span class="p">)</span>

<span class="c1"># Starting as a user account</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">phone</span><span class="p">)</span>
<span class="c1"># Please enter the code you received: 12345</span>
<span class="c1"># Please enter your password: *******</span>
<span class="c1"># (You are now logged in)</span>

<span class="c1"># Starting using a context manager (this calls start()):</span>
<span class="k">with</span> <span class="n">client</span><span class="p">:</span>
    <span class="k">pass</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-telethon.client.bots"></span><dl class="py class">
<dt class="sig sig-object py" id="telethon.client.bots.BotMethods">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telethon.client.bots.</span></span><span class="sig-name descname"><span class="pre">BotMethods</span></span><a class="headerlink" href="#telethon.client.bots.BotMethods" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="telethon.client.bots.BotMethods.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#telethon.client.bots.BotMethods.__weakref__" title="Permalink to this definition"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.bots.BotMethods.inline_query">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">inline_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geo_point</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">types.GeoPoint</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="custom.html#telethon.tl.custom.inlineresults.InlineResults" title="telethon.tl.custom.inlineresults.InlineResults"><span class="pre">InlineResults</span></a></span></span><a class="headerlink" href="#telethon.client.bots.BotMethods.inline_query" title="Permalink to this definition"></a></dt>
<dd><p>Makes an inline query to the specified bot (<code class="docutils literal notranslate"><span class="pre">&#64;vote</span> <span class="pre">New</span> <span class="pre">Poll</span></code>).</p>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>bot (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>The bot entity to which the inline query should be made.</p>
</dd>
<dt>query (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>):</dt><dd><p>The query that should be made to the bot.</p>
</dd>
<dt>entity (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>, optional):</dt><dd><p>The entity where the inline query is being made from. Certain
bots use this to display different results depending on where
it’s used, such as private chats, groups or channels.</p>
<p>If specified, it will also be the default entity where the
message will be sent after clicked. Otherwise, the “empty
peer” will be used, which some bots may not handle correctly.</p>
</dd>
<dt>offset (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional):</dt><dd><p>The string offset to use for the bot.</p>
</dd>
<dt>geo_point (<a class="reference external" href="https://tl.telethon.dev/?q=GeoPoint">GeoPoint</a>, optional)</dt><dd><p>The geo point location information to send to the bot
for localised results. Available under some bots.</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p>A list of <a class="reference internal" href="custom.html#telethon.tl.custom.inlineresult.InlineResult" title="telethon.tl.custom.inlineresult.InlineResult"><code class="xref py py-obj docutils literal notranslate"><span class="pre">custom.InlineResult</span></code></a>.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Make an inline query to @like</span>
<span class="n">results</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">inline_query</span><span class="p">(</span><span class="s1">&#39;like&#39;</span><span class="p">,</span> <span class="s1">&#39;Do you like Telethon?&#39;</span><span class="p">)</span>

<span class="c1"># Send the first result to some chat</span>
<span class="n">message</span> <span class="o">=</span> <span class="k">await</span> <span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="s1">&#39;TelethonOffTopic&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-telethon.client.buttons"></span><dl class="py class">
<dt class="sig sig-object py" id="telethon.client.buttons.ButtonMethods">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telethon.client.buttons.</span></span><span class="sig-name descname"><span class="pre">ButtonMethods</span></span><a class="headerlink" href="#telethon.client.buttons.ButtonMethods" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="telethon.client.buttons.ButtonMethods.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#telethon.client.buttons.ButtonMethods.__weakref__" title="Permalink to this definition"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.buttons.ButtonMethods.build_reply_markup">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">build_reply_markup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buttons</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">ReplyKeyboardHide</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ReplyKeyboardForceReply</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ReplyKeyboardMarkup</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ReplyInlineMarkup</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButton</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonUrl</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonCallback</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonRequestPhone</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonRequestGeoLocation</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonSwitchInline</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonGame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonBuy</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonUrlAuth</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">InputKeyboardButtonUrlAuth</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonRequestPoll</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">InputKeyboardButtonUserProfile</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonUserProfile</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonWebView</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonSimpleWebView</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="custom.html#telethon.tl.custom.button.Button" title="telethon.tl.custom.button.Button"><span class="pre">Button</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">KeyboardButton</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonUrl</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonCallback</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonRequestPhone</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonRequestGeoLocation</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonSwitchInline</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonGame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonBuy</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonUrlAuth</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">InputKeyboardButtonUrlAuth</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonRequestPoll</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">InputKeyboardButtonUserProfile</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonUserProfile</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonWebView</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonSimpleWebView</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="custom.html#telethon.tl.custom.button.Button" title="telethon.tl.custom.button.Button"><span class="pre">Button</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">KeyboardButton</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonUrl</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonCallback</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonRequestPhone</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonRequestGeoLocation</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonSwitchInline</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonGame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonBuy</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonUrlAuth</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">InputKeyboardButtonUrlAuth</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonRequestPoll</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">InputKeyboardButtonUserProfile</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonUserProfile</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonWebView</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyboardButtonSimpleWebView</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="custom.html#telethon.tl.custom.button.Button" title="telethon.tl.custom.button.Button"><span class="pre">Button</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inline_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">ReplyKeyboardHide</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ReplyKeyboardForceReply</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ReplyKeyboardMarkup</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ReplyInlineMarkup</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#telethon.client.buttons.ButtonMethods.build_reply_markup" title="Permalink to this definition"></a></dt>
<dd><p>Builds a <a class="reference external" href="https://tl.telethon.dev/?q=ReplyInlineMarkup">ReplyInlineMarkup</a> or <a class="reference external" href="https://tl.telethon.dev/?q=ReplyKeyboardMarkup">ReplyKeyboardMarkup</a> for
the given buttons.</p>
<p>Does nothing if either no buttons are provided or the provided
argument is already a reply markup.</p>
<p>You should consider using this method if you are going to reuse
the markup very often. Otherwise, it is not necessary.</p>
<p>This method is <strong>not</strong> asynchronous (don’t use <code class="docutils literal notranslate"><span class="pre">await</span></code> on it).</p>
<dl>
<dt>Arguments</dt><dd><dl class="simple">
<dt>buttons (<code class="xref py py-obj docutils literal notranslate"><span class="pre">hints.MarkupLike</span></code>):</dt><dd><p>The button, list of buttons, array of buttons or markup
to convert into a markup.</p>
</dd>
<dt>inline_only (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the buttons <strong>must</strong> be inline buttons only or not.</p>
</dd>
</dl>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">telethon</span> <span class="kn">import</span> <span class="n">Button</span>

<span class="n">markup</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">build_reply_markup</span><span class="p">(</span><span class="n">Button</span><span class="o">.</span><span class="n">inline</span><span class="p">(</span><span class="s1">&#39;hi&#39;</span><span class="p">))</span>
<span class="c1"># later</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="s1">&#39;click me&#39;</span><span class="p">,</span> <span class="n">buttons</span><span class="o">=</span><span class="n">markup</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-telethon.client.chats"></span><dl class="py class">
<dt class="sig sig-object py" id="telethon.client.chats.ChatMethods">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telethon.client.chats.</span></span><span class="sig-name descname"><span class="pre">ChatMethods</span></span><a class="headerlink" href="#telethon.client.chats.ChatMethods" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="telethon.client.chats.ChatMethods.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#telethon.client.chats.ChatMethods.__weakref__" title="Permalink to this definition"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.chats.ChatMethods.action">
<span class="sig-name descname"><span class="pre">action</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">types.TypeSendMessageAction</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delay</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_cancel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">_ChatAction</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Coroutine</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#telethon.client.chats.ChatMethods.action" title="Permalink to this definition"></a></dt>
<dd><p>Returns a context-manager object to represent a “chat action”.</p>
<p>Chat actions indicate things like “user is typing”, “user is
uploading a photo”, etc.</p>
<p>If the action is <code class="docutils literal notranslate"><span class="pre">'cancel'</span></code>, you should just <code class="docutils literal notranslate"><span class="pre">await</span></code> the result,
since it makes no sense to use a context-manager for it.</p>
<p>See the example below for intended usage.</p>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>entity (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>The entity where the action should be showed in.</p>
</dd>
<dt>action (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> | <a class="reference external" href="https://tl.telethon.dev/?q=SendMessageAction">SendMessageAction</a>):</dt><dd><p>The action to show. You can either pass a instance of
<a class="reference external" href="https://tl.telethon.dev/?q=SendMessageAction">SendMessageAction</a> or better, a string used while:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'typing'</span></code>: typing a text message.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'contact'</span></code>: choosing a contact.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'game'</span></code>: playing a game.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'location'</span></code>: choosing a geo location.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'sticker'</span></code>: choosing a sticker.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'record-audio'</span></code>: recording a voice note.
You may use <code class="docutils literal notranslate"><span class="pre">'record-voice'</span></code> as alias.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'record-round'</span></code>: recording a round video.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'record-video'</span></code>: recording a normal video.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'audio'</span></code>: sending an audio file (voice note or song).
You may use <code class="docutils literal notranslate"><span class="pre">'voice'</span></code> and <code class="docutils literal notranslate"><span class="pre">'song'</span></code> as aliases.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'round'</span></code>: uploading a round video.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'video'</span></code>: uploading a video file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'photo'</span></code>: uploading a photo.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'document'</span></code>: uploading a document file.
You may use <code class="docutils literal notranslate"><span class="pre">'file'</span></code> as alias.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'cancel'</span></code>: cancel any pending action in this chat.</p></li>
</ul>
<p>Invalid strings will raise a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>.</p>
</dd>
<dt>delay (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>):</dt><dd><p>The delay, in seconds, to wait between sending actions.
For example, if the delay is 5 and it takes 7 seconds to
do something, three requests will be made at 0s, 5s, and
7s to cancel the action.</p>
</dd>
<dt>auto_cancel (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>Whether the action should be cancelled once the context
manager exists or not. The default is <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>, since
you don’t want progress to be shown when it has already
completed.</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p>Either a context-manager object or a coroutine.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Type for 2 seconds, then send a message</span>
<span class="k">async</span> <span class="k">with</span> <span class="n">client</span><span class="o">.</span><span class="n">action</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="s1">&#39;typing&#39;</span><span class="p">):</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="s1">&#39;Hello world! I type slow ^^&#39;</span><span class="p">)</span>

<span class="c1"># Cancel any previous action</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">action</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="s1">&#39;cancel&#39;</span><span class="p">)</span>

<span class="c1"># Upload a document, showing its progress (most clients ignore this)</span>
<span class="k">async</span> <span class="k">with</span> <span class="n">client</span><span class="o">.</span><span class="n">action</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="s1">&#39;document&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">action</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_file</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">zip_file</span><span class="p">,</span> <span class="n">progress_callback</span><span class="o">=</span><span class="n">action</span><span class="o">.</span><span class="n">progress</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.chats.ChatMethods.edit_admin">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">edit_admin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">change_info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_messages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edit_messages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_messages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ban_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invite_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin_messages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_admins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manage_call</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anonymous</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_admin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Updates</span></span></span><a class="headerlink" href="#telethon.client.chats.ChatMethods.edit_admin" title="Permalink to this definition"></a></dt>
<dd><p>Edits admin permissions for someone in a chat.</p>
<p>Raises an error if a wrong combination of rights are given
(e.g. you don’t have enough permissions to grant one).</p>
<p>Unless otherwise stated, permissions will work in channels and megagroups.</p>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>entity (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>The channel, megagroup or chat where the promotion should happen.</p>
</dd>
<dt>user (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>The user to be promoted.</p>
</dd>
<dt>change_info (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the user will be able to change info.</p>
</dd>
<dt>post_messages (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the user will be able to post in the channel.
This will only work in broadcast channels.</p>
</dd>
<dt>edit_messages (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the user will be able to edit messages in the channel.
This will only work in broadcast channels.</p>
</dd>
<dt>delete_messages (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the user will be able to delete messages.</p>
</dd>
<dt>ban_users (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the user will be able to ban users.</p>
</dd>
<dt>invite_users (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the user will be able to invite users. Needs some testing.</p>
</dd>
<dt>pin_messages (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the user will be able to pin messages.</p>
</dd>
<dt>add_admins (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the user will be able to add admins.</p>
</dd>
<dt>manage_call (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the user will be able to manage group calls.</p>
</dd>
<dt>anonymous (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the user will remain anonymous when sending messages.
The sender of the anonymous messages becomes the group itself.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Users may be able to identify the anonymous admin by its
custom title, so additional care is needed when using both
<code class="docutils literal notranslate"><span class="pre">anonymous</span></code> and custom titles. For example, if multiple
anonymous admins share the same title, users won’t be able
to distinguish them.</p>
</div>
</dd>
<dt>is_admin (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the user will be an admin in the chat.
This will only work in small group chats.
Whether the user will be an admin in the chat. This is the
only permission available in small group chats, and when
used in megagroups, all non-explicitly set permissions will
have this value.</p>
<p>Essentially, only passing <code class="docutils literal notranslate"><span class="pre">is_admin=True</span></code> will grant all
permissions, but you can still disable those you need.</p>
</dd>
<dt>title (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional):</dt><dd><p>The custom title (also known as “rank”) to show for this admin.
This text will be shown instead of the “admin” badge.
This will only work in channels and megagroups.</p>
<p>When left unspecified or empty, the default localized “admin”
badge will be shown.</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p>The resulting <a class="reference external" href="https://tl.telethon.dev/?q=Updates">Updates</a> object.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Allowing `user` to pin messages in `chat`</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">edit_admin</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">pin_messages</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Granting all permissions except for `add_admins`</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">edit_admin</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">is_admin</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">add_admins</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.chats.ChatMethods.edit_permissions">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">edit_permissions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">hints.EntityLike</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">until_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.DateLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_messages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_messages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_media</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_stickers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_gifs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_games</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_inline</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_link_previews</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_polls</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">change_info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invite_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin_messages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Updates</span></span></span><a class="headerlink" href="#telethon.client.chats.ChatMethods.edit_permissions" title="Permalink to this definition"></a></dt>
<dd><p>Edits user restrictions in a chat.</p>
<p>Set an argument to <code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code> to apply a restriction (i.e. remove
the permission), or omit them to use the default <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> (i.e.
don’t apply a restriction).</p>
<p>Raises an error if a wrong combination of rights are given
(e.g. you don’t have enough permissions to revoke one).</p>
<p>By default, each boolean argument is <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>, meaning that it
is true that the user has access to the default permission
and may be able to make use of it.</p>
<p>If you set an argument to <code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code>, then a restriction is applied
regardless of the default permissions.</p>
<p>It is important to note that <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> does <em>not</em> mean grant, only
“don’t restrict”, and this is where the default permissions come
in. A user may have not been revoked the <code class="docutils literal notranslate"><span class="pre">pin_messages</span></code> permission
(it is <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>) but they won’t be able to use it if the default
permissions don’t allow it either.</p>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>entity (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>The channel or megagroup where the restriction should happen.</p>
</dd>
<dt>user (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>, optional):</dt><dd><p>If specified, the permission will be changed for the specific user.
If left as <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, the default chat permissions will be updated.</p>
</dd>
<dt>until_date (<code class="xref py py-obj docutils literal notranslate"><span class="pre">DateLike</span></code>, optional):</dt><dd><p>When the user will be unbanned.</p>
<p>If the due date or duration is longer than 366 days or shorter than
30 seconds, the ban will be forever. Defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code> (ban forever).</p>
</dd>
<dt>view_messages (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the user is able to view messages or not.
Forbidding someone from viewing messages equals to banning them.
This will only work if <code class="docutils literal notranslate"><span class="pre">user</span></code> is set.</p>
</dd>
<dt>send_messages (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the user is able to send messages or not.</p>
</dd>
<dt>send_media (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the user is able to send media or not.</p>
</dd>
<dt>send_stickers (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the user is able to send stickers or not.</p>
</dd>
<dt>send_gifs (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the user is able to send animated gifs or not.</p>
</dd>
<dt>send_games (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the user is able to send games or not.</p>
</dd>
<dt>send_inline (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the user is able to use inline bots or not.</p>
</dd>
<dt>embed_link_previews (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the user is able to enable the link preview in the
messages they send. Note that the user will still be able to
send messages with links if this permission is removed, but
these links won’t display a link preview.</p>
</dd>
<dt>send_polls (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the user is able to send polls or not.</p>
</dd>
<dt>change_info (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the user is able to change info or not.</p>
</dd>
<dt>invite_users (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the user is able to invite other users or not.</p>
</dd>
<dt>pin_messages (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the user is able to pin messages or not.</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p>The resulting <a class="reference external" href="https://tl.telethon.dev/?q=Updates">Updates</a> object.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>

<span class="c1"># Banning `user` from `chat` for 1 minute</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">edit_permissions</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
                              <span class="n">view_messages</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Banning `user` from `chat` forever</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">edit_permissions</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">view_messages</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Kicking someone (ban + un-ban)</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">edit_permissions</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">view_messages</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">edit_permissions</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">user</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.chats.ChatMethods.get_admin_log">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_admin_log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">admins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntitiesLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">leave</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invite</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restrict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unrestrict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ban</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unban</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">promote</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">demote</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pinned</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_call</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_AdminLogIter</span></span></span><a class="headerlink" href="#telethon.client.chats.ChatMethods.get_admin_log" title="Permalink to this definition"></a></dt>
<dd><p>Same as <a class="reference internal" href="#telethon.client.chats.ChatMethods.iter_admin_log" title="telethon.client.chats.ChatMethods.iter_admin_log"><code class="xref py py-obj docutils literal notranslate"><span class="pre">iter_admin_log()</span></code></a>, but returns a <code class="docutils literal notranslate"><span class="pre">list</span></code> instead.</p>
<dl>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get a list of deleted message events which said &quot;heck&quot;</span>
<span class="n">events</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_admin_log</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="s1">&#39;heck&#39;</span><span class="p">,</span> <span class="n">delete</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Print the old message before it was deleted</span>
<span class="nb">print</span><span class="p">(</span><span class="n">events</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">old</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.chats.ChatMethods.get_participants">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_participants</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">types.TypeChannelParticipantsFilter</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggressive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_ParticipantsIter</span></span></span><a class="headerlink" href="#telethon.client.chats.ChatMethods.get_participants" title="Permalink to this definition"></a></dt>
<dd><p>Same as <a class="reference internal" href="#telethon.client.chats.ChatMethods.iter_participants" title="telethon.client.chats.ChatMethods.iter_participants"><code class="xref py py-obj docutils literal notranslate"><span class="pre">iter_participants()</span></code></a>, but returns a
<a class="reference internal" href="helpers.html#telethon.helpers.TotalList" title="telethon.helpers.TotalList"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TotalList</span></code></a> instead.</p>
<dl>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">users</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_participants</span><span class="p">(</span><span class="n">chat</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">users</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">first_name</span><span class="p">)</span>

<span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">users</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">user</span><span class="o">.</span><span class="n">username</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">username</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.chats.ChatMethods.get_permissions">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_permissions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">custom.ParticipantPermissions</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#telethon.client.chats.ChatMethods.get_permissions" title="Permalink to this definition"></a></dt>
<dd><p>Fetches the permissions of a user in a specific chat or channel or
get Default Restricted Rights of Chat or Channel.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This request has to fetch the entire chat for small group chats,
which can get somewhat expensive, so use of a cache is advised.</p>
</div>
<dl>
<dt>Arguments</dt><dd><dl class="simple">
<dt>entity (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>The channel or chat the user is participant of.</p>
</dd>
<dt>user (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>, optional):</dt><dd><p>Target user.</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p>A <a class="reference internal" href="custom.html#telethon.tl.custom.participantpermissions.ParticipantPermissions" title="telethon.tl.custom.participantpermissions.ParticipantPermissions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ParticipantPermissions</span></code></a>
instance. Refer to its documentation to see what properties are
available.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">permissions</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_permissions</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">user</span><span class="p">)</span>
<span class="k">if</span> <span class="n">permissions</span><span class="o">.</span><span class="n">is_admin</span><span class="p">:</span>
    <span class="c1"># do something</span>

<span class="c1"># Get Banned Permissions of Chat</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_permissions</span><span class="p">(</span><span class="n">chat</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.chats.ChatMethods.get_profile_photos">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_profile_photos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_ProfilePhotoIter</span></span></span><a class="headerlink" href="#telethon.client.chats.ChatMethods.get_profile_photos" title="Permalink to this definition"></a></dt>
<dd><p>Same as <a class="reference internal" href="#telethon.client.chats.ChatMethods.iter_profile_photos" title="telethon.client.chats.ChatMethods.iter_profile_photos"><code class="xref py py-obj docutils literal notranslate"><span class="pre">iter_profile_photos()</span></code></a>, but returns a
<a class="reference internal" href="helpers.html#telethon.helpers.TotalList" title="telethon.helpers.TotalList"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TotalList</span></code></a> instead.</p>
<dl>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the photos of a channel</span>
<span class="n">photos</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_profile_photos</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>

<span class="c1"># Download the oldest photo</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">download_media</span><span class="p">(</span><span class="n">photos</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.chats.ChatMethods.get_stats">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">types.Message</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.chats.ChatMethods.get_stats" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves statistics from the given megagroup or broadcast channel.</p>
<p>Note that some restrictions apply before being able to fetch statistics,
in particular the channel must have enough members (for megagroups, this
requires <a class="reference external" href="https://telegram.org/blog/profile-videos-people-nearby-and-more">at least 500 members</a>).</p>
<dl>
<dt>Arguments</dt><dd><dl class="simple">
<dt>entity (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>The channel from which to get statistics.</p>
</dd>
<dt>message (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <code class="docutils literal notranslate"><span class="pre">Message</span></code>, optional):</dt><dd><p>The message ID from which to get statistics, if your goal is
to obtain the statistics of a single message.</p>
</dd>
</dl>
</dd>
<dt>Raises</dt><dd><p>If the given entity is not a channel (broadcast or megagroup),
a <code class="xref py py-obj docutils literal notranslate"><span class="pre">TypeError</span></code> is raised.</p>
<p>If there are not enough members (poorly named) errors such as
<code class="docutils literal notranslate"><span class="pre">telethon.errors.ChatAdminRequiredError</span></code> will appear.</p>
</dd>
<dt>Returns</dt><dd><p>If both <code class="docutils literal notranslate"><span class="pre">entity</span></code> and <code class="docutils literal notranslate"><span class="pre">message</span></code> were provided, returns
<a class="reference external" href="https://tl.telethon.dev/?q=MessageStats">MessageStats</a>. Otherwise, either <a class="reference external" href="https://tl.telethon.dev/?q=BroadcastStats">BroadcastStats</a> or
<a class="reference external" href="https://tl.telethon.dev/?q=MegagroupStats">MegagroupStats</a>, depending on whether the input belonged to a
broadcast channel or megagroup.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Some megagroup or channel username or ID to fetch</span>
<span class="n">channel</span> <span class="o">=</span> <span class="o">-</span><span class="mi">100123</span>
<span class="n">stats</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_stats</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Stats from&#39;</span><span class="p">,</span> <span class="n">stats</span><span class="o">.</span><span class="n">period</span><span class="o">.</span><span class="n">min_date</span><span class="p">,</span> <span class="s1">&#39;to&#39;</span><span class="p">,</span> <span class="n">stats</span><span class="o">.</span><span class="n">period</span><span class="o">.</span><span class="n">max_date</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">stats</span><span class="o">.</span><span class="n">stringify</span><span class="p">())</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.chats.ChatMethods.iter_admin_log">
<span class="sig-name descname"><span class="pre">iter_admin_log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">admins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntitiesLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">leave</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invite</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restrict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unrestrict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ban</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unban</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">promote</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">demote</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pinned</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_call</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_AdminLogIter</span></span></span><a class="headerlink" href="#telethon.client.chats.ChatMethods.iter_admin_log" title="Permalink to this definition"></a></dt>
<dd><p>Iterator over the admin log for the specified channel.</p>
<p>The default order is from the most recent event to to the oldest.</p>
<p>Note that you must be an administrator of it to use this method.</p>
<p>If none of the filters are present (i.e. they all are <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>),
<em>all</em> event types will be returned. If at least one of them is
<code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>, only those that are true will be returned.</p>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>entity (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>The channel entity from which to get its admin log.</p>
</dd>
<dt>limit (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, optional):</dt><dd><p>Number of events to be retrieved.</p>
<p>The limit may also be <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, which would eventually return
the whole history.</p>
</dd>
<dt>max_id (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>):</dt><dd><p>All the events with a higher (newer) ID or equal to this will
be excluded.</p>
</dd>
<dt>min_id (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>):</dt><dd><p>All the events with a lower (older) ID or equal to this will
be excluded.</p>
</dd>
<dt>search (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>):</dt><dd><p>The string to be used as a search query.</p>
</dd>
<dt>admins (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code>):</dt><dd><p>If present, the events will be filtered by these admins
(or single admin) and only those caused by them will be
returned.</p>
</dd>
<dt>join (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>If <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>, events for when a user joined will be returned.</p>
</dd>
<dt>leave (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>If <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>, events for when a user leaves will be returned.</p>
</dd>
<dt>invite (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>If <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>, events for when a user joins through an invite
link will be returned.</p>
</dd>
<dt>restrict (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>If <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>, events with partial restrictions will be
returned. This is what the API calls “ban”.</p>
</dd>
<dt>unrestrict (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>If <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>, events removing restrictions will be returned.
This is what the API calls “unban”.</p>
</dd>
<dt>ban (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>If <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>, events applying or removing all restrictions will
be returned. This is what the API calls “kick” (restricting
all permissions removed is a ban, which kicks the user).</p>
</dd>
<dt>unban (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>If <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>, events removing all restrictions will be
returned. This is what the API calls “unkick”.</p>
</dd>
<dt>promote (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>If <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>, events with admin promotions will be returned.</p>
</dd>
<dt>demote (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>If <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>, events with admin demotions will be returned.</p>
</dd>
<dt>info (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>If <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>, events changing the group info will be returned.</p>
</dd>
<dt>settings (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>If <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>, events changing the group settings will be
returned.</p>
</dd>
<dt>pinned (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>If <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>, events of new pinned messages will be returned.</p>
</dd>
<dt>edit (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>If <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>, events of message edits will be returned.</p>
</dd>
<dt>delete (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>If <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>, events of message deletions will be returned.</p>
</dd>
<dt>group_call (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>If <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>, events related to group calls will be returned.</p>
</dd>
</dl>
</dd>
<dt>Yields</dt><dd><p>Instances of <a class="reference internal" href="custom.html#telethon.tl.custom.adminlogevent.AdminLogEvent" title="telethon.tl.custom.adminlogevent.AdminLogEvent"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AdminLogEvent</span></code></a>.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">iter_admin_log</span><span class="p">(</span><span class="n">channel</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">changed_title</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The title changed from&#39;</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">old</span><span class="p">,</span> <span class="s1">&#39;to&#39;</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">new</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.chats.ChatMethods.iter_participants">
<span class="sig-name descname"><span class="pre">iter_participants</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">types.TypeChannelParticipantsFilter</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggressive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_ParticipantsIter</span></span></span><a class="headerlink" href="#telethon.client.chats.ChatMethods.iter_participants" title="Permalink to this definition"></a></dt>
<dd><p>Iterator over the participants belonging to the specified chat.</p>
<p>The order is unspecified.</p>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>entity (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>The entity from which to retrieve the participants list.</p>
</dd>
<dt>limit (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>):</dt><dd><p>Limits amount of participants fetched.</p>
</dd>
<dt>search (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional):</dt><dd><p>Look for participants with this string in name/username.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">aggressive</span> <span class="pre">is</span> <span class="pre">True</span></code>, the symbols from this string will
be used.</p>
</dd>
<dt>filter (<a class="reference external" href="https://tl.telethon.dev/?q=ChannelParticipantsFilter">ChannelParticipantsFilter</a>, optional):</dt><dd><p>The filter to be used, if you want e.g. only admins
Note that you might not have permissions for some filter.
This has no effect for normal chats or users.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The filter <a class="reference external" href="https://tl.telethon.dev/?q=ChannelParticipantsBanned">ChannelParticipantsBanned</a> will return
<em>restricted</em> users. If you want <em>banned</em> users you should
use <a class="reference external" href="https://tl.telethon.dev/?q=ChannelParticipantsKicked">ChannelParticipantsKicked</a> instead.</p>
</div>
</dd>
<dt>aggressive (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Aggressively looks for all participants in the chat.</p>
<p>This is useful for channels since 20 July 2018,
Telegram added a server-side limit where only the
first 200 members can be retrieved. With this flag
set, more than 200 will be often be retrieved.</p>
<p>This has no effect if a <code class="docutils literal notranslate"><span class="pre">filter</span></code> is given.</p>
</dd>
</dl>
</dd>
<dt>Yields</dt><dd><p>The <a class="reference external" href="https://tl.telethon.dev/?q=User">User</a> objects returned by <a class="reference external" href="https://tl.telethon.dev/?q=GetParticipantsRequest">GetParticipantsRequest</a>
with an additional <code class="docutils literal notranslate"><span class="pre">.participant</span></code> attribute which is the
matched <a class="reference external" href="https://tl.telethon.dev/?q=ChannelParticipant">ChannelParticipant</a> type for channels/megagroups
or <a class="reference external" href="https://tl.telethon.dev/?q=ChatParticipants">ChatParticipants</a> for normal chats.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show all user IDs in a chat</span>
<span class="k">async</span> <span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">iter_participants</span><span class="p">(</span><span class="n">chat</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

<span class="c1"># Search by name</span>
<span class="k">async</span> <span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">iter_participants</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="s1">&#39;name&#39;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">username</span><span class="p">)</span>

<span class="c1"># Filter by admins</span>
<span class="kn">from</span> <span class="nn">telethon.tl.types</span> <span class="kn">import</span> <span class="n">ChannelParticipantsAdmins</span>
<span class="k">async</span> <span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">iter_participants</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">ChannelParticipantsAdmins</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">first_name</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.chats.ChatMethods.iter_profile_photos">
<span class="sig-name descname"><span class="pre">iter_profile_photos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_ProfilePhotoIter</span></span></span><a class="headerlink" href="#telethon.client.chats.ChatMethods.iter_profile_photos" title="Permalink to this definition"></a></dt>
<dd><p>Iterator over a user’s profile photos or a chat’s photos.</p>
<p>The order is from the most recent photo to the oldest.</p>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>entity (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>The entity from which to get the profile or chat photos.</p>
</dd>
<dt>limit (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, optional):</dt><dd><p>Number of photos to be retrieved.</p>
<p>The limit may also be <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, which would eventually all
the photos that are still available.</p>
</dd>
<dt>offset (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>):</dt><dd><p>How many photos should be skipped before returning the first one.</p>
</dd>
<dt>max_id (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>):</dt><dd><p>The maximum ID allowed when fetching photos.</p>
</dd>
</dl>
</dd>
<dt>Yields</dt><dd><p>Instances of <a class="reference external" href="https://tl.telethon.dev/?q=Photo">Photo</a>.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Download all the profile photos of some user</span>
<span class="k">async</span> <span class="k">for</span> <span class="n">photo</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">iter_profile_photos</span><span class="p">(</span><span class="n">user</span><span class="p">):</span>
    <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">download_media</span><span class="p">(</span><span class="n">photo</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.chats.ChatMethods.kick_participant">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kick_participant</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">hints.EntityLike</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.chats.ChatMethods.kick_participant" title="Permalink to this definition"></a></dt>
<dd><p>Kicks a user from a chat.</p>
<p>Kicking yourself (<code class="docutils literal notranslate"><span class="pre">'me'</span></code>) will result in leaving the chat.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Attempting to kick someone who was banned will remove their
restrictions (and thus unbanning them), since kicking is just
ban + unban.</p>
</div>
<dl>
<dt>Arguments</dt><dd><dl class="simple">
<dt>entity (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>The channel or chat where the user should be kicked from.</p>
</dd>
<dt>user (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>, optional):</dt><dd><p>The user to kick.</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p>Returns the service <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message" title="telethon.tl.custom.message.Message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message</span></code></a>
produced about a user being kicked, if any.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Kick some user from some chat, and deleting the service message</span>
<span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">kick_participant</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">user</span><span class="p">)</span>
<span class="k">await</span> <span class="n">msg</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>

<span class="c1"># Leaving chat</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">kick_participant</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="s1">&#39;me&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-telethon.client.dialogs"></span><dl class="py class">
<dt class="sig sig-object py" id="telethon.client.dialogs.DialogMethods">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telethon.client.dialogs.</span></span><span class="sig-name descname"><span class="pre">DialogMethods</span></span><a class="headerlink" href="#telethon.client.dialogs.DialogMethods" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="telethon.client.dialogs.DialogMethods.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#telethon.client.dialogs.DialogMethods.__weakref__" title="Permalink to this definition"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.dialogs.DialogMethods.conversation">
<span class="sig-name descname"><span class="pre">conversation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_messages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclusive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replies_are_responses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="custom.html#telethon.tl.custom.conversation.Conversation" title="telethon.tl.custom.conversation.Conversation"><span class="pre">Conversation</span></a></span></span><a class="headerlink" href="#telethon.client.dialogs.DialogMethods.conversation" title="Permalink to this definition"></a></dt>
<dd><p>Creates a <a class="reference internal" href="custom.html#telethon.tl.custom.conversation.Conversation" title="telethon.tl.custom.conversation.Conversation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Conversation</span></code></a>
with the given entity.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This Conversation API has certain shortcomings, such as lacking
persistence, poor interaction with other event handlers, and
overcomplicated usage for anything beyond the simplest case.</p>
<p>If you plan to interact with a bot without handlers, this works
fine, but when running a bot yourself, you may instead prefer
to follow the advice from <a class="reference external" href="https://stackoverflow.com/a/62246569/">https://stackoverflow.com/a/62246569/</a>.</p>
</div>
<p>This is not the same as just sending a message to create a “dialog”
with them, but rather a way to easily send messages and await for
responses or other reactions. Refer to its documentation for more.</p>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>entity (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>The entity with which a new conversation should be opened.</p>
</dd>
<dt>timeout (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, optional):</dt><dd><p>The default timeout (in seconds) <em>per action</em> to be used. You
may also override this timeout on a per-method basis. By
default each action can take up to 60 seconds (the value of
this timeout).</p>
</dd>
<dt>total_timeout (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, optional):</dt><dd><p>The total timeout (in seconds) to use for the whole
conversation. This takes priority over per-action
timeouts. After these many seconds pass, subsequent
actions will result in <code class="docutils literal notranslate"><span class="pre">asyncio.TimeoutError</span></code>.</p>
</dd>
<dt>max_messages (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional):</dt><dd><p>The maximum amount of messages this conversation will
remember. After these many messages arrive in the
specified chat, subsequent actions will result in
<code class="docutils literal notranslate"><span class="pre">ValueError</span></code>.</p>
</dd>
<dt>exclusive (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>By default, conversations are exclusive within a single
chat. That means that while a conversation is open in a
chat, you can’t open another one in the same chat, unless
you disable this flag.</p>
<p>If you try opening an exclusive conversation for
a chat where it’s already open, it will raise
<code class="docutils literal notranslate"><span class="pre">AlreadyInConversationError</span></code>.</p>
</dd>
<dt>replies_are_responses (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether replies should be treated as responses or not.</p>
<p>If the setting is enabled, calls to <a class="reference internal" href="custom.html#telethon.tl.custom.conversation.Conversation.get_response" title="telethon.tl.custom.conversation.Conversation.get_response"><code class="xref py py-obj docutils literal notranslate"><span class="pre">conv.get_response</span></code></a>
and a subsequent call to <a class="reference internal" href="custom.html#telethon.tl.custom.conversation.Conversation.get_reply" title="telethon.tl.custom.conversation.Conversation.get_reply"><code class="xref py py-obj docutils literal notranslate"><span class="pre">conv.get_reply</span></code></a>
will return different messages, otherwise they may return
the same message.</p>
<p>Consider the following scenario with one outgoing message,
1, and two incoming messages, the second one replying:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>                    Hello! &lt;1
2&gt; (reply to 1) Hi!
3&gt; (reply to 1) How are you?
</pre></div>
</div>
<p>And the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">with</span> <span class="n">client</span><span class="o">.</span><span class="n">conversation</span><span class="p">(</span><span class="n">chat</span><span class="p">)</span> <span class="k">as</span> <span class="n">conv</span><span class="p">:</span>
    <span class="n">msg1</span> <span class="o">=</span> <span class="k">await</span> <span class="n">conv</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="s1">&#39;Hello!&#39;</span><span class="p">)</span>
    <span class="n">msg2</span> <span class="o">=</span> <span class="k">await</span> <span class="n">conv</span><span class="o">.</span><span class="n">get_response</span><span class="p">()</span>
    <span class="n">msg3</span> <span class="o">=</span> <span class="k">await</span> <span class="n">conv</span><span class="o">.</span><span class="n">get_reply</span><span class="p">()</span>
</pre></div>
</div>
<p>With the setting enabled, <code class="docutils literal notranslate"><span class="pre">msg2</span></code> will be <code class="docutils literal notranslate"><span class="pre">'Hi!'</span></code> and
<code class="docutils literal notranslate"><span class="pre">msg3</span></code> be <code class="docutils literal notranslate"><span class="pre">'How</span> <span class="pre">are</span> <span class="pre">you?'</span></code> since replies are also
responses, and a response was already returned.</p>
<p>With the setting disabled, both <code class="docutils literal notranslate"><span class="pre">msg2</span></code> and <code class="docutils literal notranslate"><span class="pre">msg3</span></code> will
be <code class="docutils literal notranslate"><span class="pre">'Hi!'</span></code> since one is a response and also a reply.</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p>A <a class="reference internal" href="custom.html#telethon.tl.custom.conversation.Conversation" title="telethon.tl.custom.conversation.Conversation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Conversation</span></code></a>.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># &lt;you&gt; denotes outgoing messages you sent</span>
<span class="c1"># &lt;usr&gt; denotes incoming response messages</span>
<span class="k">with</span> <span class="n">bot</span><span class="o">.</span><span class="n">conversation</span><span class="p">(</span><span class="n">chat</span><span class="p">)</span> <span class="k">as</span> <span class="n">conv</span><span class="p">:</span>
    <span class="c1"># &lt;you&gt; Hi!</span>
    <span class="n">conv</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="s1">&#39;Hi!&#39;</span><span class="p">)</span>

    <span class="c1"># &lt;usr&gt; Hello!</span>
    <span class="n">hello</span> <span class="o">=</span> <span class="n">conv</span><span class="o">.</span><span class="n">get_response</span><span class="p">()</span>

    <span class="c1"># &lt;you&gt; Please tell me your name</span>
    <span class="n">conv</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="s1">&#39;Please tell me your name&#39;</span><span class="p">)</span>

    <span class="c1"># &lt;usr&gt; ?</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">conv</span><span class="o">.</span><span class="n">get_response</span><span class="p">()</span><span class="o">.</span><span class="n">raw_text</span>

    <span class="k">while</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">isalpha</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">name</span><span class="p">):</span>
        <span class="c1"># &lt;you&gt; Your name didn&#39;t have any letters! Try again</span>
        <span class="n">conv</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="s2">&quot;Your name didn&#39;t have any letters! Try again&quot;</span><span class="p">)</span>

        <span class="c1"># &lt;usr&gt; Human</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">conv</span><span class="o">.</span><span class="n">get_response</span><span class="p">()</span><span class="o">.</span><span class="n">raw_text</span>

    <span class="c1"># &lt;you&gt; Thanks Human!</span>
    <span class="n">conv</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="s1">&#39;Thanks </span><span class="si">{}</span><span class="s1">!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.dialogs.DialogMethods.delete_dialog">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">delete_dialog</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">revoke</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.dialogs.DialogMethods.delete_dialog" title="Permalink to this definition"></a></dt>
<dd><p>Deletes a dialog (leaves a chat or channel).</p>
<p>This method can be used as a user and as a bot. However,
bots will only be able to use it to leave groups and channels
(trying to delete a private conversation will do nothing).</p>
<p>See also <a class="reference internal" href="custom.html#telethon.tl.custom.dialog.Dialog.delete" title="telethon.tl.custom.dialog.Dialog.delete"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Dialog.delete()</span></code></a>.</p>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>entity (entities):</dt><dd><p>The entity of the dialog to delete. If it’s a chat or
channel, you will leave it. Note that the chat itself
is not deleted, only the dialog, because you left it.</p>
</dd>
<dt>revoke (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>On private chats, you may revoke the messages from
the other peer too. By default, it’s <code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code>. Set
it to <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> to delete the history for both.</p>
<p>This makes no difference for bot accounts, who can
only leave groups and channels.</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p>The <a class="reference external" href="https://tl.telethon.dev/?q=Updates">Updates</a> object that the request produces,
or nothing for private conversations.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Deleting the first dialog</span>
<span class="n">dialogs</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_dialogs</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">delete_dialog</span><span class="p">(</span><span class="n">dialogs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="c1"># Leaving a channel by username</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">delete_dialog</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.dialogs.DialogMethods.edit_folder">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">edit_folder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntitiesLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unpack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Updates</span></span></span><a class="headerlink" href="#telethon.client.dialogs.DialogMethods.edit_folder" title="Permalink to this definition"></a></dt>
<dd><p>Edits the folder used by one or more dialogs to archive them.</p>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>entity (entities):</dt><dd><p>The entity or list of entities to move to the desired
archive folder.</p>
</dd>
<dt>folder (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>):</dt><dd><p>The folder to which the dialog should be archived to.</p>
<p>If you want to “archive” a dialog, use <code class="docutils literal notranslate"><span class="pre">folder=1</span></code>.</p>
<p>If you want to “un-archive” it, use <code class="docutils literal notranslate"><span class="pre">folder=0</span></code>.</p>
<p>You may also pass a list with the same length as
<code class="xref py py-obj docutils literal notranslate"><span class="pre">entities</span></code> if you want to control where each entity
will go.</p>
</dd>
<dt>unpack (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional):</dt><dd><p>If you want to unpack an archived folder, set this
parameter to the folder number that you want to
delete.</p>
<p>When you unpack a folder, all the dialogs inside are
moved to the folder number 0.</p>
<p>You can only use this parameter if the other two
are not set.</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p>The <a class="reference external" href="https://tl.telethon.dev/?q=Updates">Updates</a> object that the request produces.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Archiving the first 5 dialogs</span>
<span class="n">dialogs</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_dialogs</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">edit_folder</span><span class="p">(</span><span class="n">dialogs</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Un-archiving the third dialog (archiving to folder 0)</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">edit_folder</span><span class="p">(</span><span class="n">dialog</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span>

<span class="c1"># Moving the first dialog to folder 0 and the second to 1</span>
<span class="n">dialogs</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_dialogs</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">edit_folder</span><span class="p">(</span><span class="n">dialogs</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="c1"># Un-archiving all dialogs</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">edit_folder</span><span class="p">(</span><span class="n">unpack</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.dialogs.DialogMethods.get_dialogs">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_dialogs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">limit:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset_date:</span> <span class="pre">hints.DateLike</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset_id:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset_peer:</span> <span class="pre">hints.EntityLike</span> <span class="pre">=</span> <span class="pre">&lt;telethon.tl.types.InputPeerEmpty</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_pinned:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_migrated:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">archived:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_DialogsIter</span></span></span><a class="headerlink" href="#telethon.client.dialogs.DialogMethods.get_dialogs" title="Permalink to this definition"></a></dt>
<dd><p>Same as <a class="reference internal" href="#telethon.client.dialogs.DialogMethods.iter_dialogs" title="telethon.client.dialogs.DialogMethods.iter_dialogs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">iter_dialogs()</span></code></a>, but returns a
<a class="reference internal" href="helpers.html#telethon.helpers.TotalList" title="telethon.helpers.TotalList"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TotalList</span></code></a> instead.</p>
<dl>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get all open conversation, print the title of the first</span>
<span class="n">dialogs</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_dialogs</span><span class="p">()</span>
<span class="n">first</span> <span class="o">=</span> <span class="n">dialogs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">first</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>

<span class="c1"># Use the dialog somewhere else</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="s1">&#39;hi&#39;</span><span class="p">)</span>

<span class="c1"># Getting only non-archived dialogs (both equivalent)</span>
<span class="n">non_archived</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_dialogs</span><span class="p">(</span><span class="n">folder</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">non_archived</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_dialogs</span><span class="p">(</span><span class="n">archived</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Getting only archived dialogs (both equivalent)</span>
<span class="n">archived</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_dialogs</span><span class="p">(</span><span class="n">folder</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">archived</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_dialogs</span><span class="p">(</span><span class="n">archived</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.dialogs.DialogMethods.get_drafts">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_drafts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntitiesLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">hints.TotalList</span></span></span><a class="headerlink" href="#telethon.client.dialogs.DialogMethods.get_drafts" title="Permalink to this definition"></a></dt>
<dd><p>Same as <a class="reference internal" href="#telethon.client.dialogs.DialogMethods.iter_drafts" title="telethon.client.dialogs.DialogMethods.iter_drafts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">iter_drafts()</span></code></a>, but returns a list instead.</p>
<dl>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get drafts, print the text of the first</span>
<span class="n">drafts</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_drafts</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">drafts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

<span class="c1"># Get the draft in your chat</span>
<span class="n">draft</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_drafts</span><span class="p">(</span><span class="s1">&#39;me&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">drafts</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.dialogs.DialogMethods.iter_dialogs">
<span class="sig-name descname"><span class="pre">iter_dialogs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">limit:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset_date:</span> <span class="pre">hints.DateLike</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset_id:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset_peer:</span> <span class="pre">hints.EntityLike</span> <span class="pre">=</span> <span class="pre">&lt;telethon.tl.types.InputPeerEmpty</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_pinned:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_migrated:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">archived:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_DialogsIter</span></span></span><a class="headerlink" href="#telethon.client.dialogs.DialogMethods.iter_dialogs" title="Permalink to this definition"></a></dt>
<dd><p>Iterator over the dialogs (open conversations/subscribed channels).</p>
<p>The order is the same as the one seen in official applications
(first pinned, them from those with the most recent message to
those with the oldest message).</p>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>limit (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>):</dt><dd><p>How many dialogs to be retrieved as maximum. Can be set to
<code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> to retrieve all dialogs. Note that this may take
whole minutes if you have hundreds of dialogs, as Telegram
will tell the library to slow down through a
<code class="docutils literal notranslate"><span class="pre">FloodWaitError</span></code>.</p>
</dd>
<dt>offset_date (<code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime</span></code>, optional):</dt><dd><p>The offset date to be used.</p>
</dd>
<dt>offset_id (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional):</dt><dd><p>The message ID to be used as an offset.</p>
</dd>
<dt>offset_peer (<a class="reference external" href="https://tl.telethon.dev/?q=InputPeer">InputPeer</a>, optional):</dt><dd><p>The peer to be used as an offset.</p>
</dd>
<dt>ignore_pinned (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether pinned dialogs should be ignored or not.
When set to <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>, these won’t be yielded at all.</p>
</dd>
<dt>ignore_migrated (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether <a class="reference external" href="https://tl.telethon.dev/?q=Chat">Chat</a> that have <code class="docutils literal notranslate"><span class="pre">migrated_to</span></code> a <a class="reference external" href="https://tl.telethon.dev/?q=Channel">Channel</a>
should be included or not. By default all the chats in your
dialogs are returned, but setting this to <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> will ignore
(i.e. skip) them in the same way official applications do.</p>
</dd>
<dt>folder (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional):</dt><dd><p>The folder from which the dialogs should be retrieved.</p>
<p>If left unspecified, all dialogs (including those from
folders) will be returned.</p>
<p>If set to <code class="docutils literal notranslate"><span class="pre">0</span></code>, all dialogs that don’t belong to any
folder will be returned.</p>
<p>If set to a folder number like <code class="docutils literal notranslate"><span class="pre">1</span></code>, only those from
said folder will be returned.</p>
<p>By default Telegram assigns the folder ID <code class="docutils literal notranslate"><span class="pre">1</span></code> to
archived chats, so you should use that if you need
to fetch the archived dialogs.</p>
</dd>
<dt>archived (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Alias for <code class="xref py py-obj docutils literal notranslate"><span class="pre">folder</span></code>. If unspecified, all will be returned,
<code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code> implies <code class="docutils literal notranslate"><span class="pre">folder=0</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> implies <code class="docutils literal notranslate"><span class="pre">folder=1</span></code>.</p>
</dd>
</dl>
</dd>
<dt>Yields</dt><dd><p>Instances of <a class="reference internal" href="custom.html#telethon.tl.custom.dialog.Dialog" title="telethon.tl.custom.dialog.Dialog"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Dialog</span></code></a>.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Print all dialog IDs and the title, nicely formatted</span>
<span class="k">async</span> <span class="k">for</span> <span class="n">dialog</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">iter_dialogs</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:&gt;14}</span><span class="s1">: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dialog</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">dialog</span><span class="o">.</span><span class="n">title</span><span class="p">))</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.dialogs.DialogMethods.iter_drafts">
<span class="sig-name descname"><span class="pre">iter_drafts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntitiesLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_DraftsIter</span></span></span><a class="headerlink" href="#telethon.client.dialogs.DialogMethods.iter_drafts" title="Permalink to this definition"></a></dt>
<dd><p>Iterator over draft messages.</p>
<p>The order is unspecified.</p>
<dl>
<dt>Arguments</dt><dd><dl class="simple">
<dt>entity (<code class="xref py py-obj docutils literal notranslate"><span class="pre">hints.EntitiesLike</span></code>, optional):</dt><dd><p>The entity or entities for which to fetch the draft messages.
If left unspecified, all draft messages will be returned.</p>
</dd>
</dl>
</dd>
<dt>Yields</dt><dd><p>Instances of <a class="reference internal" href="custom.html#telethon.tl.custom.draft.Draft" title="telethon.tl.custom.draft.Draft"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Draft</span></code></a>.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Clear all drafts</span>
<span class="k">async</span> <span class="k">for</span> <span class="n">draft</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">get_drafts</span><span class="p">():</span>
    <span class="k">await</span> <span class="n">draft</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>

<span class="c1"># Getting the drafts with &#39;bot1&#39; and &#39;bot2&#39;</span>
<span class="k">async</span> <span class="k">for</span> <span class="n">draft</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">iter_drafts</span><span class="p">([</span><span class="s1">&#39;bot1&#39;</span><span class="p">,</span> <span class="s1">&#39;bot2&#39;</span><span class="p">]):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">draft</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-telethon.client.downloads"></span><dl class="py class">
<dt class="sig sig-object py" id="telethon.client.downloads.DownloadMethods">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telethon.client.downloads.</span></span><span class="sig-name descname"><span class="pre">DownloadMethods</span></span><a class="headerlink" href="#telethon.client.downloads.DownloadMethods" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="telethon.client.downloads.DownloadMethods.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#telethon.client.downloads.DownloadMethods.__weakref__" title="Permalink to this definition"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.downloads.DownloadMethods.download_file">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">download_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_location</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.FileLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.OutFileLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">part_size_kb</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress_callback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.ProgressCallback</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dc_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bytes</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bytes</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#telethon.client.downloads.DownloadMethods.download_file" title="Permalink to this definition"></a></dt>
<dd><p>Low-level method to download files from their input location.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Generally, you should instead use <a class="reference internal" href="#telethon.client.downloads.DownloadMethods.download_media" title="telethon.client.downloads.DownloadMethods.download_media"><code class="xref py py-obj docutils literal notranslate"><span class="pre">download_media</span></code></a>.
This method is intended to be a bit more low-level.</p>
</div>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>input_location (<a class="reference external" href="https://tl.telethon.dev/?q=InputFileLocation">InputFileLocation</a>):</dt><dd><p>The file location from which the file will be downloaded.
See <a class="reference internal" href="utils.html#telethon.utils.get_input_location" title="telethon.utils.get_input_location"><code class="xref py py-obj docutils literal notranslate"><span class="pre">telethon.utils.get_input_location</span></code></a> source for a complete
list of supported types.</p>
</dd>
<dt>file (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">file</span></code>, optional):</dt><dd><p>The output file path, directory, or stream-like object.
If the path exists and is a file, it will be overwritten.</p>
<p>If the file path is <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">bytes</span></code>, then the result
will be saved in memory and returned as <code class="xref py py-obj docutils literal notranslate"><span class="pre">bytes</span></code>.</p>
</dd>
<dt>part_size_kb (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional):</dt><dd><p>Chunk size when downloading files. The larger, the less
requests will be made (up to 512KB maximum).</p>
</dd>
<dt>file_size (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional):</dt><dd><p>The file size that is about to be downloaded, if known.
Only used if <code class="docutils literal notranslate"><span class="pre">progress_callback</span></code> is specified.</p>
</dd>
<dt>progress_callback (<code class="xref py py-obj docutils literal notranslate"><span class="pre">callable</span></code>, optional):</dt><dd><p>A callback function accepting two parameters:
<code class="docutils literal notranslate"><span class="pre">(downloaded</span> <span class="pre">bytes,</span> <span class="pre">total)</span></code>. Note that the
<code class="docutils literal notranslate"><span class="pre">total</span></code> is the provided <code class="docutils literal notranslate"><span class="pre">file_size</span></code>.</p>
</dd>
<dt>dc_id (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional):</dt><dd><p>The data center the library should connect to in order
to download the file. You shouldn’t worry about this.</p>
</dd>
<dt>key (‘bytes’, optional):</dt><dd><p>In case of an encrypted upload (secret chats) a key is supplied</p>
</dd>
<dt>iv (‘bytes’, optional):</dt><dd><p>In case of an encrypted upload (secret chats) an iv is supplied</p>
</dd>
</dl>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Download a file and print its header</span>
<span class="n">data</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">download_file</span><span class="p">(</span><span class="n">input_file</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[:</span><span class="mi">16</span><span class="p">])</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.downloads.DownloadMethods.download_media">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">download_media</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.MessageLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.FileLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thumb</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">types.TypePhotoSize</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress_callback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.ProgressCallback</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#telethon.client.downloads.DownloadMethods.download_media" title="Permalink to this definition"></a></dt>
<dd><p>Downloads the given media from a message object.</p>
<p>Note that if the download is too slow, you should consider installing
<code class="docutils literal notranslate"><span class="pre">cryptg</span></code> (through <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">cryptg</span></code>) so that decrypting the
received data is done in C instead of Python (much faster).</p>
<p>See also <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message.download_media" title="telethon.tl.custom.message.Message.download_media"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message.download_media()</span></code></a>.</p>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>message (<a class="reference internal" href="custom.html#telethon.tl.custom.message.Message" title="telethon.tl.custom.message.Message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message</span></code></a> | <a class="reference external" href="https://tl.telethon.dev/?q=Media">Media</a>):</dt><dd><p>The media or message containing the media that will be downloaded.</p>
</dd>
<dt>file (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">file</span></code>, optional):</dt><dd><p>The output file path, directory, or stream-like object.
If the path exists and is a file, it will be overwritten.
If file is the type <code class="xref py py-obj docutils literal notranslate"><span class="pre">bytes</span></code>, it will be downloaded in-memory
as a bytestring (e.g. <code class="docutils literal notranslate"><span class="pre">file=bytes</span></code>).</p>
</dd>
<dt>progress_callback (<code class="xref py py-obj docutils literal notranslate"><span class="pre">callable</span></code>, optional):</dt><dd><p>A callback function accepting two parameters:
<code class="docutils literal notranslate"><span class="pre">(received</span> <span class="pre">bytes,</span> <span class="pre">total)</span></code>.</p>
</dd>
<dt>thumb (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <a class="reference external" href="https://tl.telethon.dev/?q=PhotoSize">PhotoSize</a>, optional):</dt><dd><p>Which thumbnail size from the document or photo to download,
instead of downloading the document or photo itself.</p>
<p>If it’s specified but the file does not have a thumbnail,
this method will return <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>The parameter should be an integer index between <code class="docutils literal notranslate"><span class="pre">0</span></code> and
<code class="docutils literal notranslate"><span class="pre">len(sizes)</span></code>. <code class="docutils literal notranslate"><span class="pre">0</span></code> will download the smallest thumbnail,
and <code class="docutils literal notranslate"><span class="pre">len(sizes)</span> <span class="pre">-</span> <span class="pre">1</span></code> will download the largest thumbnail.
You can also use negative indices, which work the same as
they do in Python’s <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code>.</p>
<p>You can also pass the <a class="reference external" href="https://tl.telethon.dev/?q=PhotoSize">PhotoSize</a> instance to use.
Alternatively, the thumb size type <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> may be used.</p>
<p>In short, use <code class="docutils literal notranslate"><span class="pre">thumb=0</span></code> if you want the smallest thumbnail
and <code class="docutils literal notranslate"><span class="pre">thumb=-1</span></code> if you want the largest thumbnail.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The largest thumbnail may be a video instead of a photo,
as they are available since layer 116 and are bigger than
any of the photos.</p>
</div>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> if no media was provided, or if it was Empty. On success
the file path is returned since it may differ from the one given.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">path</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">download_media</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">download_media</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
<span class="c1"># or</span>
<span class="n">path</span> <span class="o">=</span> <span class="k">await</span> <span class="n">message</span><span class="o">.</span><span class="n">download_media</span><span class="p">()</span>
<span class="k">await</span> <span class="n">message</span><span class="o">.</span><span class="n">download_media</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

<span class="c1"># Printing download progress</span>
<span class="k">def</span> <span class="nf">callback</span><span class="p">(</span><span class="n">current</span><span class="p">,</span> <span class="n">total</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Downloaded&#39;</span><span class="p">,</span> <span class="n">current</span><span class="p">,</span> <span class="s1">&#39;out of&#39;</span><span class="p">,</span> <span class="n">total</span><span class="p">,</span>
          <span class="s1">&#39;bytes: </span><span class="si">{:.2%}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">current</span> <span class="o">/</span> <span class="n">total</span><span class="p">))</span>

<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">download_media</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">progress_callback</span><span class="o">=</span><span class="n">callback</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.downloads.DownloadMethods.download_profile_photo">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">download_profile_photo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.FileLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">download_big</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#telethon.client.downloads.DownloadMethods.download_profile_photo" title="Permalink to this definition"></a></dt>
<dd><p>Downloads the profile photo from the given user, chat or channel.</p>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>entity (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>From who the photo will be downloaded.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method expects the full entity (which has the data
to download the photo), not an input variant.</p>
<p>It’s possible that sometimes you can’t fetch the entity
from its input (since you can get errors like
<code class="docutils literal notranslate"><span class="pre">ChannelPrivateError</span></code>) but you already have it through
another call, like getting a forwarded message from it.</p>
</div>
</dd>
<dt>file (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">file</span></code>, optional):</dt><dd><p>The output file path, directory, or stream-like object.
If the path exists and is a file, it will be overwritten.
If file is the type <code class="xref py py-obj docutils literal notranslate"><span class="pre">bytes</span></code>, it will be downloaded in-memory
as a bytestring (e.g. <code class="docutils literal notranslate"><span class="pre">file=bytes</span></code>).</p>
</dd>
<dt>download_big (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether to use the big version of the available photos.</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> if no photo was provided, or if it was Empty. On success
the file path is returned since it may differ from the one given.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Download your own profile photo</span>
<span class="n">path</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">download_profile_photo</span><span class="p">(</span><span class="s1">&#39;me&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.downloads.DownloadMethods.iter_download">
<span class="sig-name descname"><span class="pre">iter_download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.FileLike</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stride</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">524288</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dc_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.downloads.DownloadMethods.iter_download" title="Permalink to this definition"></a></dt>
<dd><p>Iterates over a file download, yielding chunks of the file.</p>
<p>This method can be used to stream files in a more convenient
way, since it offers more control (pausing, resuming, etc.)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Using a value for <code class="xref py py-obj docutils literal notranslate"><span class="pre">offset</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">stride</span></code> which is not a multiple
of the minimum allowed <code class="xref py py-obj docutils literal notranslate"><span class="pre">request_size</span></code>, or if <code class="xref py py-obj docutils literal notranslate"><span class="pre">chunk_size</span></code> is
different from <code class="xref py py-obj docutils literal notranslate"><span class="pre">request_size</span></code>, the library will need to do a
bit more work to fetch the data in the way you intend it to.</p>
<p>You normally shouldn’t worry about this.</p>
</div>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>file (<code class="xref py py-obj docutils literal notranslate"><span class="pre">hints.FileLike</span></code>):</dt><dd><p>The file of which contents you want to iterate over.</p>
</dd>
<dt>offset (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional):</dt><dd><p>The offset in bytes into the file from where the
download should start. For example, if a file is
1024KB long and you just want the last 512KB, you
would use <code class="docutils literal notranslate"><span class="pre">offset=512</span> <span class="pre">*</span> <span class="pre">1024</span></code>.</p>
</dd>
<dt>stride (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional):</dt><dd><p>The stride of each chunk (how much the offset should
advance between reading each chunk). This parameter
should only be used for more advanced use cases.</p>
<p>It must be bigger than or equal to the <code class="xref py py-obj docutils literal notranslate"><span class="pre">chunk_size</span></code>.</p>
</dd>
<dt>limit (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional):</dt><dd><p>The limit for how many <em>chunks</em> will be yielded at most.</p>
</dd>
<dt>chunk_size (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional):</dt><dd><p>The maximum size of the chunks that will be yielded.
Note that the last chunk may be less than this value.
By default, it equals to <code class="xref py py-obj docutils literal notranslate"><span class="pre">request_size</span></code>.</p>
</dd>
<dt>request_size (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional):</dt><dd><p>How many bytes will be requested to Telegram when more
data is required. By default, as many bytes as possible
are requested. If you would like to request data in
smaller sizes, adjust this parameter.</p>
<p>Note that values outside the valid range will be clamped,
and the final value will also be a multiple of the minimum
allowed size.</p>
</dd>
<dt>file_size (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional):</dt><dd><p>If the file size is known beforehand, you should set
this parameter to said value. Depending on the type of
the input file passed, this may be set automatically.</p>
</dd>
<dt>dc_id (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional):</dt><dd><p>The data center the library should connect to in order
to download the file. You shouldn’t worry about this.</p>
</dd>
</dl>
</dd>
</dl>
<p>Yields</p>
<blockquote>
<div><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">bytes</span></code> objects representing the chunks of the file if the
right conditions are met, or <code class="xref py py-obj docutils literal notranslate"><span class="pre">memoryview</span></code> objects instead.</p>
</div></blockquote>
<dl>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Streaming `media` to an output file</span>
<span class="c1"># After the iteration ends, the sender is cleaned up</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;photo.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fd</span><span class="p">:</span>
    <span class="k">async</span> <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">iter_download</span><span class="p">(</span><span class="n">media</span><span class="p">):</span>
        <span class="n">fd</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>

<span class="c1"># Fetching only the header of a file (32 bytes)</span>
<span class="c1"># You should manually close the iterator in this case.</span>
<span class="c1">#</span>
<span class="c1"># &quot;stream&quot; is a common name for asynchronous generators,</span>
<span class="c1"># and iter_download will yield `bytes` (chunks of the file).</span>
<span class="n">stream</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">iter_download</span><span class="p">(</span><span class="n">media</span><span class="p">,</span> <span class="n">request_size</span><span class="o">=</span><span class="mi">32</span><span class="p">)</span>
<span class="n">header</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="fm">__anext__</span><span class="p">()</span>  <span class="c1"># &quot;manual&quot; version of `async for`</span>
<span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">header</span><span class="p">)</span> <span class="o">==</span> <span class="mi">32</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-telethon.client.messageparse"></span><dl class="py class">
<dt class="sig sig-object py" id="telethon.client.messageparse.MessageParseMethods">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telethon.client.messageparse.</span></span><span class="sig-name descname"><span class="pre">MessageParseMethods</span></span><a class="headerlink" href="#telethon.client.messageparse.MessageParseMethods" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="telethon.client.messageparse.MessageParseMethods.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#telethon.client.messageparse.MessageParseMethods.__weakref__" title="Permalink to this definition"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="telethon.client.messageparse.MessageParseMethods.parse_mode">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse_mode</span></span><a class="headerlink" href="#telethon.client.messageparse.MessageParseMethods.parse_mode" title="Permalink to this definition"></a></dt>
<dd><p>This property is the default parse mode used when sending messages.
Defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">telethon.extensions.markdown</span></code>. It will always
be either <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> or an object with <code class="docutils literal notranslate"><span class="pre">parse</span></code> and <code class="docutils literal notranslate"><span class="pre">unparse</span></code>
methods.</p>
<p>When setting a different value it should be one of:</p>
<ul class="simple">
<li><p>Object with <code class="docutils literal notranslate"><span class="pre">parse</span></code> and <code class="docutils literal notranslate"><span class="pre">unparse</span></code> methods.</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">callable</span></code> to act as the parse method.</p></li>
<li><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> indicating the <code class="docutils literal notranslate"><span class="pre">parse_mode</span></code>. For Markdown <code class="docutils literal notranslate"><span class="pre">'md'</span></code>
or <code class="docutils literal notranslate"><span class="pre">'markdown'</span></code> may be used. For HTML, <code class="docutils literal notranslate"><span class="pre">'htm'</span></code> or <code class="docutils literal notranslate"><span class="pre">'html'</span></code>
may be used.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">parse</span></code> method should be a function accepting a single
parameter, the text to parse, and returning a tuple consisting
of <code class="docutils literal notranslate"><span class="pre">(parsed</span> <span class="pre">message</span> <span class="pre">str,</span> <span class="pre">[MessageEntity</span> <span class="pre">instances])</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">unparse</span></code> method should be the inverse of <code class="docutils literal notranslate"><span class="pre">parse</span></code> such
that <code class="docutils literal notranslate"><span class="pre">assert</span> <span class="pre">text</span> <span class="pre">==</span> <span class="pre">unparse(*parse(text))</span></code>.</p>
<p>See <a class="reference external" href="https://tl.telethon.dev/?q=MessageEntity">MessageEntity</a> for allowed message entities.</p>
<dl>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Disabling default formatting</span>
<span class="n">client</span><span class="o">.</span><span class="n">parse_mode</span> <span class="o">=</span> <span class="kc">None</span>

<span class="c1"># Enabling HTML as the default format</span>
<span class="n">client</span><span class="o">.</span><span class="n">parse_mode</span> <span class="o">=</span> <span class="s1">&#39;html&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-telethon.client.messages"></span><dl class="py class">
<dt class="sig sig-object py" id="telethon.client.messages.MessageMethods">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telethon.client.messages.</span></span><span class="sig-name descname"><span class="pre">MessageMethods</span></span><a class="headerlink" href="#telethon.client.messages.MessageMethods" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="telethon.client.messages.MessageMethods.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#telethon.client.messages.MessageMethods.__weakref__" title="Permalink to this definition"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.messages.MessageMethods.delete_messages">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">delete_messages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">hints.MessageIDLike</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">hints.MessageIDLike</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">revoke</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">types.messages.AffectedMessages</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#telethon.client.messages.MessageMethods.delete_messages" title="Permalink to this definition"></a></dt>
<dd><p>Deletes the given messages, optionally “for everyone”.</p>
<p>See also <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message.delete" title="telethon.tl.custom.message.Message.delete"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message.delete()</span></code></a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method does <strong>not</strong> validate that the message IDs belong
to the chat that you passed! It’s possible for the method to
delete messages from different private chats and small group
chats at once, so make sure to pass the right IDs.</p>
</div>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>entity (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>From who the message will be deleted. This can actually
be <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> for normal chats, but <strong>must</strong> be present
for channels and megagroups.</p>
</dd>
<dt>message_ids (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message" title="telethon.tl.custom.message.Message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message</span></code></a>):</dt><dd><p>The IDs (or ID) or messages to be deleted.</p>
</dd>
<dt>revoke (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the message should be deleted for everyone or not.
By default it has the opposite behaviour of official clients,
and it will delete the message for everyone.</p>
<p><a class="reference external" href="https://telegram.org/blog/unsend-privacy-emoji">Since 24 March 2019</a>, you can
also revoke messages of any age (i.e. messages sent long in
the past) the <em>other</em> person sent in private conversations
(and of course your messages too).</p>
<p>Disabling this has no effect on channels or megagroups,
since it will unconditionally delete the message for everyone.</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p>A list of <a class="reference external" href="https://tl.telethon.dev/?q=AffectedMessages">AffectedMessages</a>, each item being the result
for the delete calls of the messages in chunks of 100 each.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">delete_messages</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">messages</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.messages.MessageMethods.edit_message">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">edit_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">hints.EntityLike</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">types.Message</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.MessageLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">types.TypeDocumentAttribute</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatting_entities</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">MessageEntityUnknown</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityMention</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityHashtag</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityBotCommand</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityUrl</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityEmail</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityBold</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityItalic</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityCode</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityPre</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityTextUrl</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityMentionName</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">InputMessageEntityMentionName</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityPhone</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityCashtag</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityUnderline</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityStrike</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityBlockquote</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityBankCard</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntitySpoiler</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityCustomEmoji</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">link_preview</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.FileLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thumb</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.FileLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_document</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buttons</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.MarkupLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">supports_streaming</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schedule</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.DateLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">types.Message</span></span></span><a class="headerlink" href="#telethon.client.messages.MessageMethods.edit_message" title="Permalink to this definition"></a></dt>
<dd><p>Edits the given message to change its text or media.</p>
<p>See also <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message.edit" title="telethon.tl.custom.message.Message.edit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message.edit()</span></code></a>.</p>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>entity (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code> | <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message" title="telethon.tl.custom.message.Message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message</span></code></a>):</dt><dd><p>From which chat to edit the message. This can also be
the message to be edited, and the entity will be inferred
from it, so the next parameter will be assumed to be the
message text.</p>
<p>You may also pass a <a class="reference external" href="https://tl.telethon.dev/?q=InputBotInlineMessageID">InputBotInlineMessageID</a>,
which is the only way to edit messages that were sent
after the user selects an inline query result.</p>
</dd>
<dt>message (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message" title="telethon.tl.custom.message.Message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message</span></code></a> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>):</dt><dd><p>The ID of the message (or <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message" title="telethon.tl.custom.message.Message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message</span></code></a> itself) to be edited.
If the <code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code> was a <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message" title="telethon.tl.custom.message.Message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message</span></code></a>, then this message
will be treated as the new text.</p>
</dd>
<dt>text (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional):</dt><dd><p>The new text of the message. Does nothing if the <code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>
was a <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message" title="telethon.tl.custom.message.Message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message</span></code></a>.</p>
</dd>
<dt>parse_mode (<code class="xref py py-obj docutils literal notranslate"><span class="pre">object</span></code>, optional):</dt><dd><p>See the <a class="reference internal" href="#telethon.client.messageparse.MessageParseMethods.parse_mode" title="telethon.client.messageparse.MessageParseMethods.parse_mode"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TelegramClient.parse_mode</span></code></a>
property for allowed values. Markdown parsing will be used by
default.</p>
</dd>
<dt>attributes (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code>, optional):</dt><dd><p>Optional attributes that override the inferred ones, like
<a class="reference external" href="https://tl.telethon.dev/?q=DocumentAttributeFilename">DocumentAttributeFilename</a> and so on.</p>
</dd>
<dt>formatting_entities (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code>, optional):</dt><dd><p>A list of message formatting entities. When provided, the <code class="docutils literal notranslate"><span class="pre">parse_mode</span></code> is ignored.</p>
</dd>
<dt>link_preview (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Should the link preview be shown?</p>
</dd>
<dt>file (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">bytes</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">file</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">media</span></code>, optional):</dt><dd><p>The file object that should replace the existing media
in the message.</p>
</dd>
<dt>thumb (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">bytes</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">file</span></code>, optional):</dt><dd><p>Optional JPEG thumbnail (for documents). <strong>Telegram will
ignore this parameter</strong> unless you pass a <code class="docutils literal notranslate"><span class="pre">.jpg</span></code> file!
The file must also be small in dimensions and in disk size.
Successful thumbnails were files below 20kB and 320x320px.
Width/height and dimensions/size ratios may be important.
For Telegram to accept a thumbnail, you must provide the
dimensions of the underlying media through <code class="docutils literal notranslate"><span class="pre">attributes=</span></code>
with <a class="reference external" href="https://tl.telethon.dev/?q=DocumentAttributesVideo">DocumentAttributesVideo</a> or by installing the
optional <code class="docutils literal notranslate"><span class="pre">hachoir</span></code> dependency.</p>
</dd>
<dt>force_document (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether to send the given file as a document or not.</p>
</dd>
<dt>buttons (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code>, <a class="reference internal" href="custom.html#telethon.tl.custom.button.Button" title="telethon.tl.custom.button.Button"><code class="xref py py-obj docutils literal notranslate"><span class="pre">custom.Button</span></code></a>, <a class="reference external" href="https://tl.telethon.dev/?q=KeyboardButton">KeyboardButton</a>):</dt><dd><p>The matrix (list of lists), row list or button to be shown
after sending the message. This parameter will only work if
you have signed in as a bot. You can also pass your own
<a class="reference external" href="https://tl.telethon.dev/?q=ReplyMarkup">ReplyMarkup</a> here.</p>
</dd>
<dt>supports_streaming (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the sent video supports streaming or not. Note that
Telegram only recognizes as streamable some formats like MP4,
and others like AVI or MKV will not work. You should convert
these to MP4 before sending if you want them to be streamable.
Unsupported formats will result in <code class="docutils literal notranslate"><span class="pre">VideoContentTypeError</span></code>.</p>
</dd>
<dt>schedule (<code class="xref py py-obj docutils literal notranslate"><span class="pre">hints.DateLike</span></code>, optional):</dt><dd><p>If set, the message won’t be edited immediately, and instead
it will be scheduled to be automatically edited at a later
time.</p>
<p>Note that this parameter will have no effect if you are
trying to edit a message that was sent via inline bots.</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p>The edited <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message" title="telethon.tl.custom.message.Message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message</span></code></a>,
unless <code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code> was a <a class="reference external" href="https://tl.telethon.dev/?q=InputBotInlineMessageID">InputBotInlineMessageID</a> in which
case this method returns a boolean.</p>
</dd>
<dt>Raises</dt><dd><p><code class="docutils literal notranslate"><span class="pre">MessageAuthorRequiredError</span></code> if you’re not the author of the
message but tried editing it anyway.</p>
<p><code class="docutils literal notranslate"><span class="pre">MessageNotModifiedError</span></code> if the contents of the message were
not modified at all.</p>
<p><code class="docutils literal notranslate"><span class="pre">MessageIdInvalidError</span></code> if the ID of the message is invalid
(the ID itself may be correct, but the message with that ID
cannot be edited). For example, when trying to edit messages
with a reply markup (or clear markup) this error will be raised.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">message</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="s1">&#39;hello&#39;</span><span class="p">)</span>

<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">edit_message</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="s1">&#39;hello!&#39;</span><span class="p">)</span>
<span class="c1"># or</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">edit_message</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">message</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="s1">&#39;hello!!&#39;</span><span class="p">)</span>
<span class="c1"># or</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">edit_message</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="s1">&#39;hello!!!&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.messages.MessageMethods.forward_messages">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">forward_messages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">messages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">hints.MessageIDLike</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">hints.MessageIDLike</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_peer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_my_score</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_album</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schedule</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.DateLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_as</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noforwards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">types.Message</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#telethon.client.messages.MessageMethods.forward_messages" title="Permalink to this definition"></a></dt>
<dd><p>Forwards the given messages to the specified entity.</p>
<p>If you want to “forward” a message without the forward header
(the “forwarded from” text), you should use <a class="reference internal" href="#telethon.client.messages.MessageMethods.send_message" title="telethon.client.messages.MessageMethods.send_message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">send_message</span></code></a> with
the original message instead. This will send a copy of it.</p>
<p>See also <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message.forward_to" title="telethon.tl.custom.message.Message.forward_to"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message.forward_to()</span></code></a>.</p>
<dl>
<dt>Arguments</dt><dd><dl class="simple">
<dt>entity (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>To which entity the message(s) will be forwarded.</p>
</dd>
<dt>messages (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message" title="telethon.tl.custom.message.Message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message</span></code></a>):</dt><dd><p>The message(s) to forward, or their integer IDs.</p>
</dd>
<dt>from_peer (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>If the given messages are integer IDs and not instances
of the <code class="docutils literal notranslate"><span class="pre">Message</span></code> class, this <em>must</em> be specified in
order for the forward to work. This parameter indicates
the entity from which the messages should be forwarded.</p>
</dd>
<dt>silent (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the message should notify people with sound or not.
Defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code> (send with a notification sound unless
the person has the chat muted). Set it to <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> to alter
this behaviour.</p>
</dd>
<dt>background (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the message should be forwarded in background.</p>
</dd>
<dt>with_my_score (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether forwarded should contain your game score.</p>
</dd>
<dt>as_album (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>This flag no longer has any effect.</p>
</dd>
<dt>schedule (<code class="xref py py-obj docutils literal notranslate"><span class="pre">hints.DateLike</span></code>, optional):</dt><dd><p>If set, the message(s) won’t forward immediately, and
instead they will be scheduled to be automatically sent
at a later time.</p>
</dd>
<dt>send_as (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>As who will it be sent.</p>
</dd>
<dt>noforwards (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional)</dt><dd><p>NoInfoOnWhatThisDoesORCanTRevealWatDisDoes</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p>The list of forwarded <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message" title="telethon.tl.custom.message.Message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message</span></code></a>,
or a single one if a list wasn’t provided as input.</p>
<p>Note that if all messages are invalid (i.e. deleted) the call
will fail with <code class="docutils literal notranslate"><span class="pre">MessageIdInvalidError</span></code>. If only some are
invalid, the list will have <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> instead of those messages.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># a single one</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">forward_messages</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
<span class="c1"># or</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">forward_messages</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">message_id</span><span class="p">,</span> <span class="n">from_chat</span><span class="p">)</span>
<span class="c1"># or</span>
<span class="k">await</span> <span class="n">message</span><span class="o">.</span><span class="n">forward_to</span><span class="p">(</span><span class="n">chat</span><span class="p">)</span>

<span class="c1"># multiple</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">forward_messages</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">messages</span><span class="p">)</span>
<span class="c1"># or</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">forward_messages</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">message_ids</span><span class="p">,</span> <span class="n">from_chat</span><span class="p">)</span>

<span class="c1"># Forwarding as a copy</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.messages.MessageMethods.get_messages">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_messages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.DateLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">types.TypeMessagesFilter</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><span class="pre">types.TypeMessagesFilter</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wait_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reply_to</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduled</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">_MessagesIter</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">_IDsIter</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#telethon.client.messages.MessageMethods.get_messages" title="Permalink to this definition"></a></dt>
<dd><p>Same as <a class="reference internal" href="#telethon.client.messages.MessageMethods.iter_messages" title="telethon.client.messages.MessageMethods.iter_messages"><code class="xref py py-obj docutils literal notranslate"><span class="pre">iter_messages()</span></code></a>, but returns a
<a class="reference internal" href="helpers.html#telethon.helpers.TotalList" title="telethon.helpers.TotalList"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TotalList</span></code></a> instead.</p>
<p>If the <code class="xref py py-obj docutils literal notranslate"><span class="pre">limit</span></code> is not set, it will be 1 by default unless both
<code class="xref py py-obj docutils literal notranslate"><span class="pre">min_id</span></code> <strong>and</strong> <code class="xref py py-obj docutils literal notranslate"><span class="pre">max_id</span></code> are set (as <em>named</em> arguments), in
which case the entire range will be returned.</p>
<p>This is so because any integer limit would be rather arbitrary and
it’s common to only want to fetch one message, but if a range is
specified it makes sense that it should return the entirety of it.</p>
<p>If <code class="xref py py-obj docutils literal notranslate"><span class="pre">ids</span></code> is present in the <em>named</em> arguments and is not a list,
a single <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message" title="telethon.tl.custom.message.Message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message</span></code></a> will be
returned for convenience instead of a list.</p>
<dl>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get 0 photos and print the total to show how many photos there are</span>
<span class="kn">from</span> <span class="nn">telethon.tl.types</span> <span class="kn">import</span> <span class="n">InputMessagesFilterPhotos</span>
<span class="n">photos</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_messages</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">InputMessagesFilterPhotos</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">photos</span><span class="o">.</span><span class="n">total</span><span class="p">)</span>

<span class="c1"># Get all the photos</span>
<span class="n">photos</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_messages</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">InputMessagesFilterPhotos</span><span class="p">)</span>

<span class="c1"># Get messages by ID:</span>
<span class="n">message_1337</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_messages</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">ids</span><span class="o">=</span><span class="mi">1337</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.messages.MessageMethods.iter_messages">
<span class="sig-name descname"><span class="pre">iter_messages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.DateLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">types.TypeMessagesFilter</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><span class="pre">types.TypeMessagesFilter</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wait_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reply_to</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduled</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">_MessagesIter</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">_IDsIter</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#telethon.client.messages.MessageMethods.iter_messages" title="Permalink to this definition"></a></dt>
<dd><p>Iterator over the messages for the given chat.</p>
<p>The default order is from newest to oldest, but this
behaviour can be changed with the <code class="xref py py-obj docutils literal notranslate"><span class="pre">reverse</span></code> parameter.</p>
<p>If either <code class="xref py py-obj docutils literal notranslate"><span class="pre">search</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">filter</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">from_user</span></code> are provided,
<a class="reference external" href="https://tl.telethon.dev/?q=messages.Search">messages.Search</a> will be used instead of <a class="reference external" href="https://tl.telethon.dev/?q=messages.getHistory">messages.getHistory</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Telegram’s flood wait limit for <a class="reference external" href="https://tl.telethon.dev/?q=GetHistoryRequest">GetHistoryRequest</a> seems to
be around 30 seconds per 10 requests, therefore a sleep of 1
second is the default for this limit (or above).</p>
</div>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>entity (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>The entity from whom to retrieve the message history.</p>
<p>It may be <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> to perform a global search, or
to get messages by their ID from no particular chat.
Note that some of the offsets will not work if this
is the case.</p>
<p>Note that if you want to perform a global search,
you <strong>must</strong> set a non-empty <code class="xref py py-obj docutils literal notranslate"><span class="pre">search</span></code> string, a <code class="xref py py-obj docutils literal notranslate"><span class="pre">filter</span></code>.
or <code class="xref py py-obj docutils literal notranslate"><span class="pre">from_user</span></code>.</p>
</dd>
<dt>limit (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, optional):</dt><dd><p>Number of messages to be retrieved. Due to limitations with
the API retrieving more than 3000 messages will take longer
than half a minute (or even more based on previous calls).</p>
<p>The limit may also be <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, which would eventually return
the whole history.</p>
</dd>
<dt>offset_date (<code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime</span></code>):</dt><dd><p>Offset date (messages <em>previous</em> to this date will be
retrieved). Exclusive.</p>
</dd>
<dt>offset_id (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>):</dt><dd><p>Offset message ID (only messages <em>previous</em> to the given
ID will be retrieved). Exclusive.</p>
</dd>
<dt>max_id (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>):</dt><dd><p>All the messages with a higher (newer) ID or equal to this will
be excluded.</p>
</dd>
<dt>min_id (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>):</dt><dd><p>All the messages with a lower (older) ID or equal to this will
be excluded.</p>
</dd>
<dt>add_offset (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>):</dt><dd><p>Additional message offset (all of the specified offsets +
this offset = older messages).</p>
</dd>
<dt>search (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>):</dt><dd><p>The string to be used as a search query.</p>
</dd>
<dt>filter (<a class="reference external" href="https://tl.telethon.dev/?q=MessagesFilter">MessagesFilter</a> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">type</span></code>):</dt><dd><p>The filter to use when returning messages. For instance,
<a class="reference external" href="https://tl.telethon.dev/?q=InputMessagesFilterPhotos">InputMessagesFilterPhotos</a> would yield only messages
containing photos.</p>
</dd>
<dt>from_user (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>Only messages from this entity will be returned.</p>
</dd>
<dt>wait_time (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>):</dt><dd><p>Wait time (in seconds) between different
<a class="reference external" href="https://tl.telethon.dev/?q=GetHistoryRequest">GetHistoryRequest</a>. Use this parameter to avoid hitting
the <code class="docutils literal notranslate"><span class="pre">FloodWaitError</span></code> as needed. If left to <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, it will
default to 1 second only if the limit is higher than 3000.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">ids</span></code> parameter is used, this time will default
to 10 seconds only if the amount of IDs is higher than 300.</p>
</dd>
<dt>ids (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code>):</dt><dd><p>A single integer ID (or several IDs) for the message that
should be returned. This parameter takes precedence over
the rest (which will be ignored if this is set). This can
for instance be used to get the message with ID 123 from
a channel. Note that if the message doesn’t exist, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>
will appear in its place, so that zipping the list of IDs
with the messages can match one-to-one.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>At the time of writing, Telegram will <strong>not</strong> return
<a class="reference external" href="https://tl.telethon.dev/?q=MessageEmpty">MessageEmpty</a> for <a class="reference external" href="https://tl.telethon.dev/?q=InputMessageReplyTo">InputMessageReplyTo</a> IDs that
failed (i.e. the message is not replying to any, or is
replying to a deleted message). This means that it is
<strong>not</strong> possible to match messages one-by-one, so be
careful if you use non-integers in this parameter.</p>
</div>
</dd>
<dt>reverse (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>If set to <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>, the messages will be returned in reverse
order (from oldest to newest, instead of the default newest
to oldest). This also means that the meaning of <code class="xref py py-obj docutils literal notranslate"><span class="pre">offset_id</span></code>
and <code class="xref py py-obj docutils literal notranslate"><span class="pre">offset_date</span></code> parameters is reversed, although they will
still be exclusive. <code class="xref py py-obj docutils literal notranslate"><span class="pre">min_id</span></code> becomes equivalent to <code class="xref py py-obj docutils literal notranslate"><span class="pre">offset_id</span></code>
instead of being <code class="xref py py-obj docutils literal notranslate"><span class="pre">max_id</span></code> as well since messages are returned
in ascending order.</p>
<p>You cannot use this if both <code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">ids</span></code> are <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt>reply_to (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional):</dt><dd><p>If set to a message ID, the messages that reply to this ID
will be returned. This feature is also known as comments in
posts of broadcast channels, or viewing threads in groups.</p>
<p>This feature can only be used in broadcast channels and their
linked megagroups. Using it in a chat or private conversation
will result in <code class="docutils literal notranslate"><span class="pre">telethon.errors.PeerIdInvalidError</span></code> to occur.</p>
<p>When using this parameter, the <code class="docutils literal notranslate"><span class="pre">filter</span></code> and <code class="docutils literal notranslate"><span class="pre">search</span></code>
parameters have no effect, since Telegram’s API doesn’t
support searching messages in replies.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This feature is used to get replies to a message in the
<em>discussion</em> group. If the same broadcast channel sends
a message and replies to it itself, that reply will not
be included in the results.</p>
</div>
</dd>
<dt>scheduled (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>If set to <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>, messages which are scheduled will be returned.
All other parameter will be ignored for this, except <code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>.</p>
</dd>
</dl>
</dd>
<dt>Yields</dt><dd><p>Instances of <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message" title="telethon.tl.custom.message.Message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message</span></code></a>.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># From most-recent to oldest</span>
<span class="k">async</span> <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">iter_messages</span><span class="p">(</span><span class="n">chat</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">message</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

<span class="c1"># From oldest to most-recent</span>
<span class="k">async</span> <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">iter_messages</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">message</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

<span class="c1"># Filter by sender</span>
<span class="k">async</span> <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">iter_messages</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">from_user</span><span class="o">=</span><span class="s1">&#39;me&#39;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

<span class="c1"># Server-side search with fuzzy text</span>
<span class="k">async</span> <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">iter_messages</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="s1">&#39;hello&#39;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

<span class="c1"># Filter by message type:</span>
<span class="kn">from</span> <span class="nn">telethon.tl.types</span> <span class="kn">import</span> <span class="n">InputMessagesFilterPhotos</span>
<span class="k">async</span> <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">iter_messages</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">InputMessagesFilterPhotos</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">photo</span><span class="p">)</span>

<span class="c1"># Getting comments from a post in a channel:</span>
<span class="k">async</span> <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">iter_messages</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">reply_to</span><span class="o">=</span><span class="mi">123</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">chat</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="n">message</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.messages.MessageMethods.pin_message">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pin_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">hints.MessageIDLike</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notify</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pm_oneside</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.messages.MessageMethods.pin_message" title="Permalink to this definition"></a></dt>
<dd><p>Pins a message in a chat.</p>
<p>The default behaviour is to <em>not</em> notify members, unlike the
official applications.</p>
<p>See also <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message.pin" title="telethon.tl.custom.message.Message.pin"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message.pin()</span></code></a>.</p>
<dl>
<dt>Arguments</dt><dd><dl class="simple">
<dt>entity (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>The chat where the message should be pinned.</p>
</dd>
<dt>message (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message" title="telethon.tl.custom.message.Message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message</span></code></a>):</dt><dd><p>The message or the message ID to pin. If it’s
<code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, all messages will be unpinned instead.</p>
</dd>
<dt>notify (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the pin should notify people or not.</p>
</dd>
<dt>pm_oneside (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the message should be pinned for everyone or not.
By default it has the opposite behaviour of official clients,
and it will pin the message for both sides, in private chats.</p>
</dd>
</dl>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Send and pin a message to annoy everyone</span>
<span class="n">message</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="s1">&#39;Pinotifying is fun!&#39;</span><span class="p">)</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">pin_message</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">notify</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.messages.MessageMethods.send_message">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">send_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.MessageLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reply_to</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">types.Message</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">types.TypeDocumentAttribute</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatting_entities</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">MessageEntityUnknown</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityMention</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityHashtag</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityBotCommand</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityUrl</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityEmail</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityBold</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityItalic</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityCode</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityPre</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityTextUrl</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityMentionName</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">InputMessageEntityMentionName</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityPhone</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityCashtag</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityUnderline</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityStrike</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityBlockquote</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityBankCard</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntitySpoiler</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityCustomEmoji</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">link_preview</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">hints.FileLike</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">hints.FileLike</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thumb</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.FileLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_document</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear_draft</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buttons</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.MarkupLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">supports_streaming</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schedule</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.DateLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment_to</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">types.Message</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_as</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noforwards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">types.Message</span></span></span><a class="headerlink" href="#telethon.client.messages.MessageMethods.send_message" title="Permalink to this definition"></a></dt>
<dd><p>Sends a message to the specified user, chat or channel.</p>
<p>The default parse mode is the same as the official applications
(a custom flavour of markdown). <code class="docutils literal notranslate"><span class="pre">**bold**,</span> <span class="pre">`code`</span> <span class="pre">or</span> <span class="pre">__italic__</span></code>
are available. In addition you can send <code class="docutils literal notranslate"><span class="pre">[links](https://example.com)</span></code>
and <code class="docutils literal notranslate"><span class="pre">[mentions](&#64;username)</span></code> (or using IDs like in the Bot API:
<code class="docutils literal notranslate"><span class="pre">[mention](tg://user?id=123456789)</span></code>) and <code class="docutils literal notranslate"><span class="pre">pre</span></code> blocks with three
backticks.</p>
<p>Sending a <code class="docutils literal notranslate"><span class="pre">/start</span></code> command with a parameter (like <code class="docutils literal notranslate"><span class="pre">?start=data</span></code>)
is also done through this method. Simply send <code class="docutils literal notranslate"><span class="pre">'/start</span> <span class="pre">data'</span></code> to
the bot.</p>
<p>See also <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message.respond" title="telethon.tl.custom.message.Message.respond"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message.respond()</span></code></a>
and <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message.reply" title="telethon.tl.custom.message.Message.reply"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message.reply()</span></code></a>.</p>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>entity (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>To who will it be sent.</p>
</dd>
<dt>message (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> | <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message" title="telethon.tl.custom.message.Message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message</span></code></a>):</dt><dd><p>The message to be sent, or another message object to resend.</p>
<p>The maximum length for a message is 35,000 bytes or 4,096
characters. Longer messages will not be sliced automatically,
and you should slice them manually if the text to send is
longer than said length.</p>
</dd>
<dt>reply_to (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message" title="telethon.tl.custom.message.Message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message</span></code></a>, optional):</dt><dd><p>Whether to reply to a message or not. If an integer is provided,
it should be the ID of the message that it should reply to.</p>
</dd>
<dt>attributes (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code>, optional):</dt><dd><p>Optional attributes that override the inferred ones, like
<a class="reference external" href="https://tl.telethon.dev/?q=DocumentAttributeFilename">DocumentAttributeFilename</a> and so on.</p>
</dd>
<dt>parse_mode (<code class="xref py py-obj docutils literal notranslate"><span class="pre">object</span></code>, optional):</dt><dd><p>See the <a class="reference internal" href="#telethon.client.messageparse.MessageParseMethods.parse_mode" title="telethon.client.messageparse.MessageParseMethods.parse_mode"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TelegramClient.parse_mode</span></code></a>
property for allowed values. Markdown parsing will be used by
default.</p>
</dd>
<dt>formatting_entities (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code>, optional):</dt><dd><p>A list of message formatting entities. When provided, the <code class="docutils literal notranslate"><span class="pre">parse_mode</span></code> is ignored.</p>
</dd>
<dt>link_preview (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Should the link preview be shown?</p>
</dd>
<dt>file (<code class="xref py py-obj docutils literal notranslate"><span class="pre">file</span></code>, optional):</dt><dd><p>Sends a message with a file attached (e.g. a photo,
video, audio or document). The <code class="docutils literal notranslate"><span class="pre">message</span></code> may be empty.</p>
</dd>
<dt>thumb (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">bytes</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">file</span></code>, optional):</dt><dd><p>Optional JPEG thumbnail (for documents). <strong>Telegram will
ignore this parameter</strong> unless you pass a <code class="docutils literal notranslate"><span class="pre">.jpg</span></code> file!
The file must also be small in dimensions and in disk size.
Successful thumbnails were files below 20kB and 320x320px.
Width/height and dimensions/size ratios may be important.
For Telegram to accept a thumbnail, you must provide the
dimensions of the underlying media through <code class="docutils literal notranslate"><span class="pre">attributes=</span></code>
with <a class="reference external" href="https://tl.telethon.dev/?q=DocumentAttributesVideo">DocumentAttributesVideo</a> or by installing the
optional <code class="docutils literal notranslate"><span class="pre">hachoir</span></code> dependency.</p>
</dd>
<dt>force_document (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether to send the given file as a document or not.</p>
</dd>
<dt>clear_draft (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the existing draft should be cleared or not.</p>
</dd>
<dt>buttons (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code>, <a class="reference internal" href="custom.html#telethon.tl.custom.button.Button" title="telethon.tl.custom.button.Button"><code class="xref py py-obj docutils literal notranslate"><span class="pre">custom.Button</span></code></a>, <a class="reference external" href="https://tl.telethon.dev/?q=KeyboardButton">KeyboardButton</a>):</dt><dd><p>The matrix (list of lists), row list or button to be shown
after sending the message. This parameter will only work if
you have signed in as a bot. You can also pass your own
<a class="reference external" href="https://tl.telethon.dev/?q=ReplyMarkup">ReplyMarkup</a> here.</p>
<p>All the following limits apply together:</p>
<ul class="simple">
<li><p>There can be 100 buttons at most (any more are ignored).</p></li>
<li><p>There can be 8 buttons per row at most (more are ignored).</p></li>
<li><p>The maximum callback data per button is 64 bytes.</p></li>
<li><p>The maximum data that can be embedded in total is just
over 4KB, shared between inline callback data and text.</p></li>
</ul>
</dd>
<dt>silent (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the message should notify people in a broadcast
channel or not. Defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code>, which means it will
notify them. Set it to <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> to alter this behaviour.</p>
</dd>
<dt>background (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the message should be send in background.</p>
</dd>
<dt>supports_streaming (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the sent video supports streaming or not. Note that
Telegram only recognizes as streamable some formats like MP4,
and others like AVI or MKV will not work. You should convert
these to MP4 before sending if you want them to be streamable.
Unsupported formats will result in <code class="docutils literal notranslate"><span class="pre">VideoContentTypeError</span></code>.</p>
</dd>
<dt>schedule (<code class="xref py py-obj docutils literal notranslate"><span class="pre">hints.DateLike</span></code>, optional):</dt><dd><p>If set, the message won’t send immediately, and instead
it will be scheduled to be automatically sent at a later
time.</p>
</dd>
<dt>comment_to (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message" title="telethon.tl.custom.message.Message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message</span></code></a>, optional):</dt><dd><p>Similar to <code class="docutils literal notranslate"><span class="pre">reply_to</span></code>, but replies in the linked group of a
broadcast channel instead (effectively leaving a “comment to”
the specified message).</p>
<p>This parameter takes precedence over <code class="docutils literal notranslate"><span class="pre">reply_to</span></code>. If there is
no linked chat, <code class="xref py py-obj docutils literal notranslate"><span class="pre">telethon.errors.sgIdInvalidError</span></code> is raised.</p>
</dd>
<dt>send_as (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>As who will it be sent.</p>
</dd>
<dt>noforwards (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional)</dt><dd><p>NoInfoOnWhatThisDoesORCanTRevealWatDisDoes</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p>The sent <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message" title="telethon.tl.custom.message.Message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">custom.Message</span></code></a>.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Markdown is the default</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="s1">&#39;me&#39;</span><span class="p">,</span> <span class="s1">&#39;Hello **world**!&#39;</span><span class="p">)</span>

<span class="c1"># Default to another parse mode</span>
<span class="n">client</span><span class="o">.</span><span class="n">parse_mode</span> <span class="o">=</span> <span class="s1">&#39;html&#39;</span>

<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="s1">&#39;me&#39;</span><span class="p">,</span> <span class="s1">&#39;Some &lt;b&gt;bold&lt;/b&gt; and &lt;i&gt;italic&lt;/i&gt; text&#39;</span><span class="p">)</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="s1">&#39;me&#39;</span><span class="p">,</span> <span class="s1">&#39;An &lt;a href=&quot;https://example.com&quot;&gt;URL&lt;/a&gt;&#39;</span><span class="p">)</span>
<span class="c1"># code and pre tags also work, but those break the documentation :)</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="s1">&#39;me&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;a href=&quot;tg://user?id=me&quot;&gt;Mentions&lt;/a&gt;&#39;</span><span class="p">)</span>

<span class="c1"># Explicit parse mode</span>
<span class="c1"># No parse mode by default</span>
<span class="n">client</span><span class="o">.</span><span class="n">parse_mode</span> <span class="o">=</span> <span class="kc">None</span>

<span class="c1"># ...but here I want markdown</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="s1">&#39;me&#39;</span><span class="p">,</span> <span class="s1">&#39;Hello, **world**!&#39;</span><span class="p">,</span> <span class="n">parse_mode</span><span class="o">=</span><span class="s1">&#39;md&#39;</span><span class="p">)</span>

<span class="c1"># ...and here I need HTML</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="s1">&#39;me&#39;</span><span class="p">,</span> <span class="s1">&#39;Hello, &lt;i&gt;world&lt;/i&gt;!&#39;</span><span class="p">,</span> <span class="n">parse_mode</span><span class="o">=</span><span class="s1">&#39;html&#39;</span><span class="p">)</span>

<span class="c1"># If you logged in as a bot account, you can send buttons</span>
<span class="kn">from</span> <span class="nn">telethon</span> <span class="kn">import</span> <span class="n">events</span><span class="p">,</span> <span class="n">Button</span>

<span class="nd">@client</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="n">events</span><span class="o">.</span><span class="n">CallbackQuery</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">callback</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="k">await</span> <span class="n">event</span><span class="o">.</span><span class="n">edit</span><span class="p">(</span><span class="s1">&#39;Thank you for clicking </span><span class="si">{}</span><span class="s1">!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>

<span class="c1"># Single inline button</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="s1">&#39;A single button, with &quot;clk1&quot; as data&#39;</span><span class="p">,</span>
                          <span class="n">buttons</span><span class="o">=</span><span class="n">Button</span><span class="o">.</span><span class="n">inline</span><span class="p">(</span><span class="s1">&#39;Click me&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;clk1&#39;</span><span class="p">))</span>

<span class="c1"># Matrix of inline buttons</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="s1">&#39;Pick one from this grid&#39;</span><span class="p">,</span> <span class="n">buttons</span><span class="o">=</span><span class="p">[</span>
    <span class="p">[</span><span class="n">Button</span><span class="o">.</span><span class="n">inline</span><span class="p">(</span><span class="s1">&#39;Left&#39;</span><span class="p">),</span> <span class="n">Button</span><span class="o">.</span><span class="n">inline</span><span class="p">(</span><span class="s1">&#39;Right&#39;</span><span class="p">)],</span>
    <span class="p">[</span><span class="n">Button</span><span class="o">.</span><span class="n">url</span><span class="p">(</span><span class="s1">&#39;Check this site!&#39;</span><span class="p">,</span> <span class="s1">&#39;https://example.com&#39;</span><span class="p">)]</span>
<span class="p">])</span>

<span class="c1"># Reply keyboard</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="s1">&#39;Welcome&#39;</span><span class="p">,</span> <span class="n">buttons</span><span class="o">=</span><span class="p">[</span>
    <span class="n">Button</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;Thanks!&#39;</span><span class="p">,</span> <span class="n">resize</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">single_use</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Button</span><span class="o">.</span><span class="n">request_phone</span><span class="p">(</span><span class="s1">&#39;Send phone&#39;</span><span class="p">),</span>
    <span class="n">Button</span><span class="o">.</span><span class="n">request_location</span><span class="p">(</span><span class="s1">&#39;Send location&#39;</span><span class="p">)</span>
<span class="p">])</span>

<span class="c1"># Forcing replies or clearing buttons.</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="s1">&#39;Reply to me&#39;</span><span class="p">,</span> <span class="n">buttons</span><span class="o">=</span><span class="n">Button</span><span class="o">.</span><span class="n">force_reply</span><span class="p">())</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="s1">&#39;Bye Keyboard!&#39;</span><span class="p">,</span> <span class="n">buttons</span><span class="o">=</span><span class="n">Button</span><span class="o">.</span><span class="n">clear</span><span class="p">())</span>

<span class="c1"># Scheduling a message to be sent after 5 minutes</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="s1">&#39;Hi, future!&#39;</span><span class="p">,</span> <span class="n">schedule</span><span class="o">=</span><span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.messages.MessageMethods.send_reaction">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">send_reaction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">hints.MessageIDLike</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reaction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">types.ReactionCustomEmoji</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">types.ReactionEmoji</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">types.ReactionEmpty</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">big</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.messages.MessageMethods.send_reaction" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.messages.MessageMethods.send_read_acknowledge">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">send_read_acknowledge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">hints.MessageIDLike</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">hints.MessageIDLike</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear_mentions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#telethon.client.messages.MessageMethods.send_read_acknowledge" title="Permalink to this definition"></a></dt>
<dd><p>Marks messages as read and optionally clears mentions.</p>
<p>This effectively marks a message as read (or more than one) in the
given conversation.</p>
<p>If neither message nor maximum ID are provided, all messages will be
marked as read by assuming that <code class="docutils literal notranslate"><span class="pre">max_id</span> <span class="pre">=</span> <span class="pre">0</span></code>.</p>
<p>If a message or maximum ID is provided, all the messages up to and
including such ID will be marked as read (for all messages whose ID
≤ max_id).</p>
<p>See also <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message.mark_read" title="telethon.tl.custom.message.Message.mark_read"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message.mark_read()</span></code></a>.</p>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>entity (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>The chat where these messages are located.</p>
</dd>
<dt>message (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> | <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message" title="telethon.tl.custom.message.Message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message</span></code></a>):</dt><dd><p>Either a list of messages or a single message.</p>
</dd>
<dt>max_id (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>):</dt><dd><p>Until which message should the read acknowledge be sent for.
This has priority over the <code class="docutils literal notranslate"><span class="pre">message</span></code> parameter.</p>
</dd>
<dt>clear_mentions (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>):</dt><dd><p>Whether the mention badge should be cleared (so that
there are no more mentions) or not for the given entity.</p>
<p>If no message is provided, this will be the only action
taken.</p>
</dd>
</dl>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># using a Message object</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_read_acknowledge</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
<span class="c1"># ...or using the int ID of a Message</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_read_acknowledge</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">message_id</span><span class="p">)</span>
<span class="c1"># ...or passing a list of messages to mark as read</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_read_acknowledge</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">messages</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.messages.MessageMethods.set_default_reaction">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set_default_reaction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reaction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">types.ReactionCustomEmoji</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">types.ReactionEmoji</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">types.ReactionEmpty</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.messages.MessageMethods.set_default_reaction" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.messages.MessageMethods.unpin_message">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">unpin_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">hints.MessageIDLike</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notify</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.messages.MessageMethods.unpin_message" title="Permalink to this definition"></a></dt>
<dd><p>Unpins a message in a chat.</p>
<p>If no message ID is specified, all pinned messages will be unpinned.</p>
<p>See also <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message.unpin" title="telethon.tl.custom.message.Message.unpin"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message.unpin()</span></code></a>.</p>
<dl>
<dt>Arguments</dt><dd><dl class="simple">
<dt>entity (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>The chat where the message should be pinned.</p>
</dd>
<dt>message (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message" title="telethon.tl.custom.message.Message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message</span></code></a>):</dt><dd><p>The message or the message ID to unpin. If it’s
<code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, all messages will be unpinned instead.</p>
</dd>
</dl>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Unpin all messages from a chat</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">unpin_message</span><span class="p">(</span><span class="n">chat</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-telethon.client.updates"></span><dl class="py class">
<dt class="sig sig-object py" id="telethon.client.updates.EventBuilderDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telethon.client.updates.</span></span><span class="sig-name descname"><span class="pre">EventBuilderDict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#telethon.client.telegramclient.TelegramClient" title="telethon.client.telegramclient.TelegramClient"><span class="pre">TelegramClient</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">others</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.updates.EventBuilderDict" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Helper “dictionary” to return events from types and cache them.</p>
<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.updates.EventBuilderDict.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builder</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.updates.EventBuilderDict.__getitem__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="telethon.client.updates.EventBuilderDict.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#telethon.client.updates.EventBuilderDict.__weakref__" title="Permalink to this definition"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="telethon.client.updates.UpdateMethods">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telethon.client.updates.</span></span><span class="sig-name descname"><span class="pre">UpdateMethods</span></span><a class="headerlink" href="#telethon.client.updates.UpdateMethods" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="telethon.client.updates.UpdateMethods.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#telethon.client.updates.UpdateMethods.__weakref__" title="Permalink to this definition"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.updates.UpdateMethods.add_event_handler">
<span class="sig-name descname"><span class="pre">add_event_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="events.html#telethon.events.common.EventBuilder" title="telethon.events.common.EventBuilder"><span class="pre">EventBuilder</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.updates.UpdateMethods.add_event_handler" title="Permalink to this definition"></a></dt>
<dd><p>Registers a new event handler callback.</p>
<p>The callback will be called when the specified event occurs.</p>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>callback (<code class="xref py py-obj docutils literal notranslate"><span class="pre">callable</span></code>):</dt><dd><p>The callable function accepting one parameter to be used.</p>
<p>Note that if you have used <a class="reference internal" href="events.html#telethon.events.register" title="telethon.events.register"><code class="xref py py-obj docutils literal notranslate"><span class="pre">telethon.events.register</span></code></a> in
the callback, <code class="docutils literal notranslate"><span class="pre">event</span></code> will be ignored, and instead the
events you previously registered will be used.</p>
</dd>
<dt>event (<code class="xref py py-obj docutils literal notranslate"><span class="pre">_EventBuilder</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">type</span></code>, optional):</dt><dd><p>The event builder class or instance to be used,
for instance <code class="docutils literal notranslate"><span class="pre">events.NewMessage</span></code>.</p>
<p>If left unspecified, <a class="reference internal" href="events.html#telethon.events.raw.Raw" title="telethon.events.raw.Raw"><code class="xref py py-obj docutils literal notranslate"><span class="pre">telethon.events.raw.Raw</span></code></a> (the
<a class="reference external" href="https://tl.telethon.dev/?q=Update">Update</a> objects with no further processing) will
be passed instead.</p>
</dd>
</dl>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">telethon</span> <span class="kn">import</span> <span class="n">TelegramClient</span><span class="p">,</span> <span class="n">events</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">TelegramClient</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">handler</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">client</span><span class="o">.</span><span class="n">add_event_handler</span><span class="p">(</span><span class="n">handler</span><span class="p">,</span> <span class="n">events</span><span class="o">.</span><span class="n">NewMessage</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.updates.UpdateMethods.catch_up">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">catch_up</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.updates.UpdateMethods.catch_up" title="Permalink to this definition"></a></dt>
<dd><p>“Catches up” on the missed updates while the client was offline.
You should call this method after registering the event handlers
so that the updates it loads can by processed by your script.</p>
<p>This can also be used to forcibly fetch new updates if there are any.</p>
<dl>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">catch_up</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.updates.UpdateMethods.list_event_handlers">
<span class="sig-name descname"><span class="pre">list_event_handlers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Callback</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="events.html#telethon.events.common.EventBuilder" title="telethon.events.common.EventBuilder"><span class="pre">EventBuilder</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#telethon.client.updates.UpdateMethods.list_event_handlers" title="Permalink to this definition"></a></dt>
<dd><p>Lists all registered event handlers.</p>
<dl>
<dt>Returns</dt><dd><p>A list of pairs consisting of <code class="docutils literal notranslate"><span class="pre">(callback,</span> <span class="pre">event)</span></code>.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@client</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="n">events</span><span class="o">.</span><span class="n">NewMessage</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="s1">&#39;hello&#39;</span><span class="p">))</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">on_greeting</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Greets someone&#39;&#39;&#39;</span>
    <span class="k">await</span> <span class="n">event</span><span class="o">.</span><span class="n">reply</span><span class="p">(</span><span class="s1">&#39;Hi&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">callback</span><span class="p">,</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">list_event_handlers</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">callback</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">event</span><span class="p">))</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.updates.UpdateMethods.on">
<span class="sig-name descname"><span class="pre">on</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="events.html#telethon.events.common.EventBuilder" title="telethon.events.common.EventBuilder"><span class="pre">EventBuilder</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.updates.UpdateMethods.on" title="Permalink to this definition"></a></dt>
<dd><p>Decorator used to <a class="reference internal" href="#telethon.client.updates.UpdateMethods.add_event_handler" title="telethon.client.updates.UpdateMethods.add_event_handler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_event_handler</span></code></a> more conveniently.</p>
<dl>
<dt>Arguments</dt><dd><dl class="simple">
<dt>event (<code class="xref py py-obj docutils literal notranslate"><span class="pre">_EventBuilder</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">type</span></code>):</dt><dd><p>The event builder class or instance to be used,
for instance <code class="docutils literal notranslate"><span class="pre">events.NewMessage</span></code>.</p>
</dd>
</dl>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">telethon</span> <span class="kn">import</span> <span class="n">TelegramClient</span><span class="p">,</span> <span class="n">events</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">TelegramClient</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="c1"># Here we use client.on</span>
<span class="nd">@client</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="n">events</span><span class="o">.</span><span class="n">NewMessage</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">handler</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.updates.UpdateMethods.remove_event_handler">
<span class="sig-name descname"><span class="pre">remove_event_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="events.html#telethon.events.common.EventBuilder" title="telethon.events.common.EventBuilder"><span class="pre">EventBuilder</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#telethon.client.updates.UpdateMethods.remove_event_handler" title="Permalink to this definition"></a></dt>
<dd><p>Inverse operation of <a class="reference internal" href="#telethon.client.updates.UpdateMethods.add_event_handler" title="telethon.client.updates.UpdateMethods.add_event_handler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_event_handler()</span></code></a>.</p>
<p>If no event is given, all events for this callback are removed.
Returns how many callbacks were removed.</p>
<dl>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@client</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="n">events</span><span class="o">.</span><span class="n">Raw</span><span class="p">)</span>
<span class="nd">@client</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="n">events</span><span class="o">.</span><span class="n">NewMessage</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">handler</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="o">...</span>

<span class="c1"># Removes only the &quot;Raw&quot; handling</span>
<span class="c1"># &quot;handler&quot; will still receive &quot;events.NewMessage&quot;</span>
<span class="n">client</span><span class="o">.</span><span class="n">remove_event_handler</span><span class="p">(</span><span class="n">handler</span><span class="p">,</span> <span class="n">events</span><span class="o">.</span><span class="n">Raw</span><span class="p">)</span>

<span class="c1"># &quot;handler&quot; will stop receiving anything</span>
<span class="n">client</span><span class="o">.</span><span class="n">remove_event_handler</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.updates.UpdateMethods.run_until_disconnected">
<span class="sig-name descname"><span class="pre">run_until_disconnected</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.updates.UpdateMethods.run_until_disconnected" title="Permalink to this definition"></a></dt>
<dd><p>Runs the event loop until the library is disconnected.</p>
<p>It also notifies Telegram that we want to receive updates
as described in <a class="reference external" href="https://core.telegram.org/api/updates">https://core.telegram.org/api/updates</a>.</p>
<p>Manual disconnections can be made by calling <a class="reference internal" href="#telethon.client.telegrambaseclient.TelegramBaseClient.disconnect" title="telethon.client.telegrambaseclient.TelegramBaseClient.disconnect"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disconnect()</span></code></a>
or sending a <code class="docutils literal notranslate"><span class="pre">KeyboardInterrupt</span></code> (e.g. by pressing <code class="docutils literal notranslate"><span class="pre">Ctrl+C</span></code> on
the console window running the script).</p>
<p>If a disconnection error occurs (i.e. the library fails to reconnect
automatically), said error will be raised through here, so you have a
chance to <code class="docutils literal notranslate"><span class="pre">except</span></code> it on your own code.</p>
<p>If the loop is already running, this method returns a coroutine
that you should await on your own code.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want to handle <code class="docutils literal notranslate"><span class="pre">KeyboardInterrupt</span></code> in your code,
simply run the event loop in your code too in any way, such as
<code class="docutils literal notranslate"><span class="pre">loop.run_forever()</span></code> or <code class="docutils literal notranslate"><span class="pre">await</span> <span class="pre">client.disconnected</span></code> (e.g.
<code class="docutils literal notranslate"><span class="pre">loop.run_until_complete(client.disconnected)</span></code>).</p>
</div>
<dl>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Blocks the current task here until a disconnection occurs.</span>
<span class="c1">#</span>
<span class="c1"># You will still receive updates, since this prevents the</span>
<span class="c1"># script from exiting.</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">run_until_disconnected</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.updates.UpdateMethods.set_receive_updates">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set_receive_updates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">receive_updates</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.updates.UpdateMethods.set_receive_updates" title="Permalink to this definition"></a></dt>
<dd><p>Change the value of <code class="xref py py-obj docutils literal notranslate"><span class="pre">receive_updates</span></code>.</p>
<p>This is an <code class="xref py py-obj docutils literal notranslate"><span class="pre">async</span></code> method, because in order for Telegram to start
sending updates again, a request must be made.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-telethon.client.uploads"></span><dl class="py class">
<dt class="sig sig-object py" id="telethon.client.uploads.UploadMethods">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telethon.client.uploads.</span></span><span class="sig-name descname"><span class="pre">UploadMethods</span></span><a class="headerlink" href="#telethon.client.uploads.UploadMethods" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="telethon.client.uploads.UploadMethods.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#telethon.client.uploads.UploadMethods.__weakref__" title="Permalink to this definition"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.uploads.UploadMethods.send_file">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">send_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">hints.FileLike</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">hints.FileLike</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caption</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_document</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear_draft</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress_callback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.ProgressCallback</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reply_to</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.MessageIDLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">types.TypeDocumentAttribute</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thumb</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.FileLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_cache</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatting_entities</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">MessageEntityUnknown</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityMention</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityHashtag</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityBotCommand</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityUrl</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityEmail</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityBold</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityItalic</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityCode</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityPre</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityTextUrl</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityMentionName</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">InputMessageEntityMentionName</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityPhone</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityCashtag</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityUnderline</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityStrike</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityBlockquote</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityBankCard</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntitySpoiler</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MessageEntityCustomEmoji</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voice_note</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">video_note</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buttons</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.MarkupLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">supports_streaming</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schedule</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.DateLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment_to</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">types.Message</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ttl</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_as</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noforwards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">types.Message</span></span></span><a class="headerlink" href="#telethon.client.uploads.UploadMethods.send_file" title="Permalink to this definition"></a></dt>
<dd><p>Sends message with the given file to the specified entity.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">hachoir3</span></code> package (<code class="docutils literal notranslate"><span class="pre">hachoir</span></code> module) is installed,
it will be used to determine metadata from audio and video files.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">pillow</span></code> package is installed and you are sending a photo,
it will be resized to fit within the maximum dimensions allowed
by Telegram to avoid <code class="docutils literal notranslate"><span class="pre">errors.PhotoInvalidDimensionsError</span></code>. This
cannot be done if you are sending <a class="reference external" href="https://tl.telethon.dev/?q=InputFile">InputFile</a>, however.</p>
</div>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>entity (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>Who will receive the file.</p>
</dd>
<dt>file (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">bytes</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">file</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">media</span></code>):</dt><dd><p>The file to send, which can be one of:</p>
<ul class="simple">
<li><p>A local file path to an in-disk file. The file name
will be the path’s base name.</p></li>
<li><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">bytes</span></code> byte array with the file’s data to send
(for example, by using <code class="docutils literal notranslate"><span class="pre">text.encode('utf-8')</span></code>).
A default file name will be used.</p></li>
<li><p>A bytes <code class="xref py py-obj docutils literal notranslate"><span class="pre">io.IOBase</span></code> stream over the file to send
(for example, by using <code class="docutils literal notranslate"><span class="pre">open(file,</span> <span class="pre">'rb')</span></code>).
Its <code class="docutils literal notranslate"><span class="pre">.name</span></code> property will be used for the file name,
or a default if it doesn’t have one.</p></li>
<li><p>An external URL to a file over the internet. This will
send the file as “external” media, and Telegram is the
one that will fetch the media and send it.</p></li>
<li><p>A Bot API-like <code class="docutils literal notranslate"><span class="pre">file_id</span></code>. You can convert previously
sent media to file IDs for later reusing with
<a class="reference internal" href="utils.html#telethon.utils.pack_bot_file_id" title="telethon.utils.pack_bot_file_id"><code class="xref py py-obj docutils literal notranslate"><span class="pre">telethon.utils.pack_bot_file_id</span></code></a>.</p></li>
<li><p>A handle to an existing file (for example, if you sent a
message with media before, you can use its <code class="docutils literal notranslate"><span class="pre">message.media</span></code>
as a file here).</p></li>
<li><p>A handle to an uploaded file (from <a class="reference internal" href="#telethon.client.uploads.UploadMethods.upload_file" title="telethon.client.uploads.UploadMethods.upload_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">upload_file</span></code></a>).</p></li>
<li><p>A <a class="reference external" href="https://tl.telethon.dev/?q=InputMedia">InputMedia</a> instance. For example, if you want to
send a dice use <a class="reference external" href="https://tl.telethon.dev/?q=InputMediaDice">InputMediaDice</a>, or if you want to
send a contact use <a class="reference external" href="https://tl.telethon.dev/?q=InputMediaContact">InputMediaContact</a>.</p></li>
</ul>
<p>To send an album, you should provide a list in this parameter.</p>
<p>If a list or similar is provided, the files in it will be
sent as an album in the order in which they appear, sliced
in chunks of 10 if more than 10 are given.</p>
</dd>
<dt>caption (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional):</dt><dd><p>Optional caption for the sent media message. When sending an
album, the caption may be a list of strings, which will be
assigned to the files pairwise.</p>
</dd>
<dt>force_document (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>If left to <code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code> and the file is a path that ends with
the extension of an image file or a video file, it will be
sent as such. Otherwise always as a document.</p>
</dd>
<dt>file_size (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional):</dt><dd><p>The size of the file to be uploaded if it needs to be uploaded,
which will be determined automatically if not specified.</p>
<p>If the file size can’t be determined beforehand, the entire
file will be read in-memory to find out how large it is.</p>
</dd>
<dt>clear_draft (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the existing draft should be cleared or not.</p>
</dd>
<dt>progress_callback (<code class="xref py py-obj docutils literal notranslate"><span class="pre">callable</span></code>, optional):</dt><dd><p>A callback function accepting two parameters:
<code class="docutils literal notranslate"><span class="pre">(sent</span> <span class="pre">bytes,</span> <span class="pre">total)</span></code>.</p>
</dd>
<dt>reply_to (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message" title="telethon.tl.custom.message.Message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message</span></code></a>):</dt><dd><p>Same as <code class="xref py py-obj docutils literal notranslate"><span class="pre">reply_to</span></code> from <code class="xref py py-obj docutils literal notranslate"><span class="pre">send_message</span></code>.</p>
</dd>
<dt>attributes (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code>, optional):</dt><dd><p>Optional attributes that override the inferred ones, like
<a class="reference external" href="https://tl.telethon.dev/?q=DocumentAttributeFilename">DocumentAttributeFilename</a> and so on.</p>
</dd>
<dt>thumb (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">bytes</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">file</span></code>, optional):</dt><dd><p>Optional JPEG thumbnail (for documents). <strong>Telegram will
ignore this parameter</strong> unless you pass a <code class="docutils literal notranslate"><span class="pre">.jpg</span></code> file!</p>
<p>The file must also be small in dimensions and in disk size.
Successful thumbnails were files below 20kB and 320x320px.
Width/height and dimensions/size ratios may be important.
For Telegram to accept a thumbnail, you must provide the
dimensions of the underlying media through <code class="docutils literal notranslate"><span class="pre">attributes=</span></code>
with <a class="reference external" href="https://tl.telethon.dev/?q=DocumentAttributesVideo">DocumentAttributesVideo</a> or by installing the
optional <code class="docutils literal notranslate"><span class="pre">hachoir</span></code> dependency.</p>
</dd>
<dt>allow_cache (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>This parameter currently does nothing, but is kept for
backward-compatibility (and it may get its use back in
the future).</p>
</dd>
<dt>parse_mode (<code class="xref py py-obj docutils literal notranslate"><span class="pre">object</span></code>, optional):</dt><dd><p>See the <a class="reference internal" href="#telethon.client.messageparse.MessageParseMethods.parse_mode" title="telethon.client.messageparse.MessageParseMethods.parse_mode"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TelegramClient.parse_mode</span></code></a>
property for allowed values. Markdown parsing will be used by
default.</p>
</dd>
<dt>formatting_entities (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code>, optional):</dt><dd><p>A list of message formatting entities. When provided, the <code class="docutils literal notranslate"><span class="pre">parse_mode</span></code> is ignored.</p>
</dd>
<dt>voice_note (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>If <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> the audio will be sent as a voice note.</p>
</dd>
<dt>video_note (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>If <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> the video will be sent as a video note,
also known as a round video message.</p>
</dd>
<dt>buttons (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code>, <a class="reference internal" href="custom.html#telethon.tl.custom.button.Button" title="telethon.tl.custom.button.Button"><code class="xref py py-obj docutils literal notranslate"><span class="pre">custom.Button</span></code></a>, <a class="reference external" href="https://tl.telethon.dev/?q=KeyboardButton">KeyboardButton</a>):</dt><dd><p>The matrix (list of lists), row list or button to be shown
after sending the message. This parameter will only work if
you have signed in as a bot. You can also pass your own
<a class="reference external" href="https://tl.telethon.dev/?q=ReplyMarkup">ReplyMarkup</a> here.</p>
</dd>
<dt>silent (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the message should notify people with sound or not.
Defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code> (send with a notification sound unless
the person has the chat muted). Set it to <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> to alter
this behaviour.</p>
</dd>
<dt>background (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the message should be send in background.</p>
</dd>
<dt>supports_streaming (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether the sent video supports streaming or not. Note that
Telegram only recognizes as streamable some formats like MP4,
and others like AVI or MKV will not work. You should convert
these to MP4 before sending if you want them to be streamable.
Unsupported formats will result in <code class="docutils literal notranslate"><span class="pre">VideoContentTypeError</span></code>.</p>
</dd>
<dt>schedule (<code class="xref py py-obj docutils literal notranslate"><span class="pre">hints.DateLike</span></code>, optional):</dt><dd><p>If set, the file won’t send immediately, and instead
it will be scheduled to be automatically sent at a later
time.</p>
</dd>
<dt>comment_to (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message" title="telethon.tl.custom.message.Message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message</span></code></a>, optional):</dt><dd><p>Similar to <code class="docutils literal notranslate"><span class="pre">reply_to</span></code>, but replies in the linked group of a
broadcast channel instead (effectively leaving a “comment to”
the specified message).</p>
<p>This parameter takes precedence over <code class="docutils literal notranslate"><span class="pre">reply_to</span></code>. If there is
no linked chat, <code class="xref py py-obj docutils literal notranslate"><span class="pre">telethon.errors.sgIdInvalidError</span></code> is raised.</p>
</dd>
<dt>ttl (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>. optional):</dt><dd><p>The Time-To-Live of the file (also known as “self-destruct timer”
or “self-destructing media”). If set, files can only be viewed for
a short period of time before they disappear from the message
history automatically.</p>
<p>The value must be at least 1 second, and at most 60 seconds,
otherwise Telegram will ignore this parameter.</p>
<p>Not all types of media can be used with this parameter, such
as text documents, which will fail with <code class="docutils literal notranslate"><span class="pre">TtlMediaInvalidError</span></code>.</p>
</dd>
<dt>send_as (<code class="xref py py-obj docutils literal notranslate"><span class="pre">entity</span></code>):</dt><dd><p>As who will it be sent.</p>
</dd>
<dt>noforwards (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional)</dt><dd><p>NoInfoOnWhatThisDoesORCanTRevealWatDisDoes</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p>The <a class="reference internal" href="custom.html#telethon.tl.custom.message.Message" title="telethon.tl.custom.message.Message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Message</span></code></a> (or messages)
containing the sent file, or messages if a list of them was passed.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Normal files like photos</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_file</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="s1">&#39;/my/photos/me.jpg&#39;</span><span class="p">,</span> <span class="n">caption</span><span class="o">=</span><span class="s2">&quot;It&#39;s me!&quot;</span><span class="p">)</span>
<span class="c1"># or</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="s2">&quot;It&#39;s me!&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="s1">&#39;/my/photos/me.jpg&#39;</span><span class="p">)</span>

<span class="c1"># Voice notes or round videos</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_file</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="s1">&#39;/my/songs/song.mp3&#39;</span><span class="p">,</span> <span class="n">voice_note</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_file</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="s1">&#39;/my/videos/video.mp4&#39;</span><span class="p">,</span> <span class="n">video_note</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Custom thumbnails</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_file</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="s1">&#39;/my/documents/doc.txt&#39;</span><span class="p">,</span> <span class="n">thumb</span><span class="o">=</span><span class="s1">&#39;photo.jpg&#39;</span><span class="p">)</span>

<span class="c1"># Only documents</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_file</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="s1">&#39;/my/photos/photo.png&#39;</span><span class="p">,</span> <span class="n">force_document</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Albums</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_file</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;/my/photos/holiday1.jpg&#39;</span><span class="p">,</span>
    <span class="s1">&#39;/my/photos/holiday2.jpg&#39;</span><span class="p">,</span>
    <span class="s1">&#39;/my/drawings/portrait.png&#39;</span>
<span class="p">])</span>

<span class="c1"># Printing upload progress</span>
<span class="k">def</span> <span class="nf">callback</span><span class="p">(</span><span class="n">current</span><span class="p">,</span> <span class="n">total</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Uploaded&#39;</span><span class="p">,</span> <span class="n">current</span><span class="p">,</span> <span class="s1">&#39;out of&#39;</span><span class="p">,</span> <span class="n">total</span><span class="p">,</span>
          <span class="s1">&#39;bytes: </span><span class="si">{:.2%}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">current</span> <span class="o">/</span> <span class="n">total</span><span class="p">))</span>

<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_file</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">progress_callback</span><span class="o">=</span><span class="n">callback</span><span class="p">)</span>

<span class="c1"># Dices, including dart and other future emoji</span>
<span class="kn">from</span> <span class="nn">telethon.tl</span> <span class="kn">import</span> <span class="n">types</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_file</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">InputMediaDice</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">))</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_file</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">InputMediaDice</span><span class="p">(</span><span class="s1">&#39;🎯&#39;</span><span class="p">))</span>

<span class="c1"># Contacts</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_file</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">InputMediaContact</span><span class="p">(</span>
    <span class="n">phone_number</span><span class="o">=</span><span class="s1">&#39;+34 123 456 789&#39;</span><span class="p">,</span>
    <span class="n">first_name</span><span class="o">=</span><span class="s1">&#39;Example&#39;</span><span class="p">,</span>
    <span class="n">last_name</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="n">vcard</span><span class="o">=</span><span class="s1">&#39;&#39;</span>
<span class="p">))</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.uploads.UploadMethods.upload_file">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">upload_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.FileLike</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">part_size_kb</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_cache</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">type</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bytes</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bytes</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress_callback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.ProgressCallback</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">types.TypeInputFile</span></span></span><a class="headerlink" href="#telethon.client.uploads.UploadMethods.upload_file" title="Permalink to this definition"></a></dt>
<dd><p>Uploads a file to Telegram’s servers, without sending it.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Generally, you want to use <a class="reference internal" href="#telethon.client.uploads.UploadMethods.send_file" title="telethon.client.uploads.UploadMethods.send_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">send_file</span></code></a> instead.</p>
</div>
<p>This method returns a handle (an instance of <a class="reference external" href="https://tl.telethon.dev/?q=InputFile">InputFile</a> or
<a class="reference external" href="https://tl.telethon.dev/?q=InputFileBig">InputFileBig</a>, as required) which can be later used before
it expires (they are usable during less than a day).</p>
<p>Uploading a file will simply return a “handle” to the file stored
remotely in the Telegram servers, which can be later used on. This
will <strong>not</strong> upload the file to your own chat or any chat at all.</p>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>file (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">bytes</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">file</span></code>):</dt><dd><p>The path of the file, byte array, or stream that will be sent.
Note that if a byte array or a stream is given, a filename
or its type won’t be inferred, and it will be sent as an
“unnamed application/octet-stream”.</p>
</dd>
<dt>part_size_kb (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional):</dt><dd><p>Chunk size when uploading files. The larger, the less
requests will be made (up to 512KB maximum).</p>
</dd>
<dt>file_size (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional):</dt><dd><p>The size of the file to be uploaded, which will be determined
automatically if not specified.</p>
<p>If the file size can’t be determined beforehand, the entire
file will be read in-memory to find out how large it is.</p>
</dd>
<dt>file_name (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional):</dt><dd><p>The file name which will be used on the resulting InputFile.
If not specified, the name will be taken from the <code class="docutils literal notranslate"><span class="pre">file</span></code>
and if this is not a <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, it will be <code class="docutils literal notranslate"><span class="pre">&quot;unnamed&quot;</span></code>.</p>
</dd>
<dt>use_cache (<code class="xref py py-obj docutils literal notranslate"><span class="pre">type</span></code>, optional):</dt><dd><p>This parameter currently does nothing, but is kept for
backward-compatibility (and it may get its use back in
the future).</p>
</dd>
<dt>key (‘bytes’, optional):</dt><dd><p>In case of an encrypted upload (secret chats) a key is supplied</p>
</dd>
<dt>iv (‘bytes’, optional):</dt><dd><p>In case of an encrypted upload (secret chats) an iv is supplied</p>
</dd>
<dt>progress_callback (<code class="xref py py-obj docutils literal notranslate"><span class="pre">callable</span></code>, optional):</dt><dd><p>A callback function accepting two parameters:
<code class="docutils literal notranslate"><span class="pre">(sent</span> <span class="pre">bytes,</span> <span class="pre">total)</span></code>.</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p><a class="reference external" href="https://tl.telethon.dev/?q=InputFileBig">InputFileBig</a> if the file size is larger than 10MB,
<code class="xref py py-obj docutils literal notranslate"><span class="pre">InputSizedFile</span></code>
(subclass of <a class="reference external" href="https://tl.telethon.dev/?q=InputFile">InputFile</a>) otherwise.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Photos as photo and document</span>
<span class="n">file</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">upload_file</span><span class="p">(</span><span class="s1">&#39;photo.jpg&#39;</span><span class="p">)</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_file</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>                       <span class="c1"># sends as photo</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_file</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">force_document</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># sends as document</span>

<span class="n">file</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;not a photo.jpg&#39;</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_file</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">force_document</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># document, new name</span>

<span class="c1"># As song or as voice note</span>
<span class="n">file</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">upload_file</span><span class="p">(</span><span class="s1">&#39;song.ogg&#39;</span><span class="p">)</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_file</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>                   <span class="c1"># sends as song</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_file</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">voice_note</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># sends as voice note</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-telethon.client.users"></span><dl class="py class">
<dt class="sig sig-object py" id="telethon.client.users.UserMethods">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">telethon.client.users.</span></span><span class="sig-name descname"><span class="pre">UserMethods</span></span><a class="headerlink" href="#telethon.client.users.UserMethods" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.users.UserMethods.__call__">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ordered</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flood_sleep_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#telethon.client.users.UserMethods.__call__" title="Permalink to this definition"></a></dt>
<dd><p>Call self as a function.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="telethon.client.users.UserMethods.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#telethon.client.users.UserMethods.__weakref__" title="Permalink to this definition"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.users.UserMethods.get_entity">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntitiesLike</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">hints.Entity</span></span></span><a class="headerlink" href="#telethon.client.users.UserMethods.get_entity" title="Permalink to this definition"></a></dt>
<dd><p>Turns the given entity into a valid Telegram <a class="reference external" href="https://tl.telethon.dev/?q=User">User</a>, <a class="reference external" href="https://tl.telethon.dev/?q=Chat">Chat</a>
or <a class="reference external" href="https://tl.telethon.dev/?q=Channel">Channel</a>. You can also pass a list or iterable of entities,
and they will be efficiently fetched from the network.</p>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>entity (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <a class="reference external" href="https://tl.telethon.dev/?q=Peer">Peer</a> | <a class="reference external" href="https://tl.telethon.dev/?q=InputPeer">InputPeer</a>):</dt><dd><p>If a username is given, <strong>the username will be resolved</strong> making
an API call every time. Resolving usernames is an expensive
operation and will start hitting flood waits around 50 usernames
in a short period of time.</p>
<p>If you want to get the entity for a <em>cached</em> username, you should
first <a class="reference internal" href="#telethon.client.users.UserMethods.get_input_entity" title="telethon.client.users.UserMethods.get_input_entity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_input_entity(username)</span></code></a> which will
use the cache), and then use <a class="reference internal" href="#telethon.client.users.UserMethods.get_entity" title="telethon.client.users.UserMethods.get_entity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_entity</span></code></a> with the result of the
previous call.</p>
<p>Similar limits apply to invite links, and you should use their
ID instead.</p>
<p>Using phone numbers (from people in your contact list), exact
names, integer IDs or <a class="reference external" href="https://tl.telethon.dev/?q=Peer">Peer</a> rely on a <a class="reference internal" href="#telethon.client.users.UserMethods.get_input_entity" title="telethon.client.users.UserMethods.get_input_entity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_input_entity</span></code></a>
first, which in turn needs the entity to be in cache, unless
a <a class="reference external" href="https://tl.telethon.dev/?q=InputPeer">InputPeer</a> was passed.</p>
<p>Unsupported types will raise <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>.</p>
<p>If the entity can’t be found, <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> will be raised.</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p><a class="reference external" href="https://tl.telethon.dev/?q=User">User</a>, <a class="reference external" href="https://tl.telethon.dev/?q=Chat">Chat</a> or <a class="reference external" href="https://tl.telethon.dev/?q=Channel">Channel</a> corresponding to the
input entity. A list will be returned if more than one was given.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">telethon</span> <span class="kn">import</span> <span class="n">utils</span>

<span class="n">me</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_entity</span><span class="p">(</span><span class="s1">&#39;me&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">utils</span><span class="o">.</span><span class="n">get_display_name</span><span class="p">(</span><span class="n">me</span><span class="p">))</span>

<span class="n">chat</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_input_entity</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">iter_messages</span><span class="p">(</span><span class="n">chat</span><span class="p">):</span>
    <span class="o">...</span>

<span class="c1"># Note that you could have used the username directly, but it&#39;s</span>
<span class="c1"># good to use get_input_entity if you will reuse it a lot.</span>
<span class="k">async</span> <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">iter_messages</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">):</span>
    <span class="o">...</span>

<span class="c1"># Note that for this to work the phone number must be in your contacts</span>
<span class="n">some_id</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_peer_id</span><span class="p">(</span><span class="s1">&#39;+34123456789&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.users.UserMethods.get_input_entity">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_input_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">peer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">types.TypeInputPeer</span></span></span><a class="headerlink" href="#telethon.client.users.UserMethods.get_input_entity" title="Permalink to this definition"></a></dt>
<dd><p>Turns the given entity into its input entity version.</p>
<p>Most requests use this kind of <a class="reference external" href="https://tl.telethon.dev/?q=InputPeer">InputPeer</a>, so this is the most
suitable call to make for those cases. <strong>Generally you should let the
library do its job</strong> and don’t worry about getting the input entity
first, but if you’re going to use an entity often, consider making the
call:</p>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>entity (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> | <a class="reference external" href="https://tl.telethon.dev/?q=Peer">Peer</a> | <a class="reference external" href="https://tl.telethon.dev/?q=InputPeer">InputPeer</a>):</dt><dd><p>If a username or invite link is given, <strong>the library will
use the cache</strong>. This means that it’s possible to be using
a username that <em>changed</em> or an old invite link (this only
happens if an invite link for a small group chat is used
after it was upgraded to a mega-group).</p>
<p>If the username or ID from the invite link is not found in
the cache, it will be fetched. The same rules apply to phone
numbers (<code class="docutils literal notranslate"><span class="pre">'+34</span> <span class="pre">123456789'</span></code>) from people in your contact list.</p>
<p>If an exact name is given, it must be in the cache too. This
is not reliable as different people can share the same name
and which entity is returned is arbitrary, and should be used
only for quick tests.</p>
<p>If a positive integer ID is given, the entity will be searched
in cached users, chats or channels, without making any call.</p>
<p>If a negative integer ID is given, the entity will be searched
exactly as either a chat (prefixed with <code class="docutils literal notranslate"><span class="pre">-</span></code>) or as a channel
(prefixed with <code class="docutils literal notranslate"><span class="pre">-100</span></code>).</p>
<p>If a <a class="reference external" href="https://tl.telethon.dev/?q=Peer">Peer</a> is given, it will be searched exactly in the
cache as either a user, chat or channel.</p>
<p>If the given object can be turned into an input entity directly,
said operation will be done.</p>
<p>Unsupported types will raise <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>.</p>
<p>If the entity can’t be found, <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> will be raised.</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p><a class="reference external" href="https://tl.telethon.dev/?q=InputPeerUser">InputPeerUser</a>, <a class="reference external" href="https://tl.telethon.dev/?q=InputPeerChat">InputPeerChat</a> or <a class="reference external" href="https://tl.telethon.dev/?q=InputPeerChannel">InputPeerChannel</a>
or <a class="reference external" href="https://tl.telethon.dev/?q=InputPeerSelf">InputPeerSelf</a> if the parameter is <code class="docutils literal notranslate"><span class="pre">'me'</span></code> or <code class="docutils literal notranslate"><span class="pre">'self'</span></code>.</p>
<p>If you need to get the ID of yourself, you should use
<a class="reference internal" href="#telethon.client.users.UserMethods.get_me" title="telethon.client.users.UserMethods.get_me"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_me</span></code></a> with <code class="docutils literal notranslate"><span class="pre">input_peer=True</span></code>) instead.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># If you&#39;re going to use &quot;username&quot; often in your code</span>
<span class="c1"># (make a lot of calls), consider getting its input entity</span>
<span class="c1"># once, and then using the &quot;user&quot; everywhere instead.</span>
<span class="n">user</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_input_entity</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">)</span>

<span class="c1"># The same applies to IDs, chats or channels.</span>
<span class="n">chat</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_input_entity</span><span class="p">(</span><span class="o">-</span><span class="mi">123456789</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.users.UserMethods.get_me">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_me</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_peer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">types.User</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">types.InputPeerUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#telethon.client.users.UserMethods.get_me" title="Permalink to this definition"></a></dt>
<dd><p>Gets “me”, the current <a class="reference external" href="https://tl.telethon.dev/?q=User">User</a> who is logged in.</p>
<p>If the user has not logged in yet, this method returns <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>.</p>
<dl>
<dt>Arguments</dt><dd><dl class="simple">
<dt>input_peer (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional):</dt><dd><p>Whether to return the <a class="reference external" href="https://tl.telethon.dev/?q=InputPeerUser">InputPeerUser</a> version or the normal
<a class="reference external" href="https://tl.telethon.dev/?q=User">User</a>. This can be useful if you just need to know the ID
of yourself.</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p>Your own <a class="reference external" href="https://tl.telethon.dev/?q=User">User</a>.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">me</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_me</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">me</span><span class="o">.</span><span class="n">username</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.users.UserMethods.get_peer_id">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_peer_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">peer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hints.EntityLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_mark</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#telethon.client.users.UserMethods.get_peer_id" title="Permalink to this definition"></a></dt>
<dd><p>Gets the ID for the given entity.</p>
<p>This method needs to be <code class="docutils literal notranslate"><span class="pre">async</span></code> because <code class="xref py py-obj docutils literal notranslate"><span class="pre">peer</span></code> supports usernames,
invite-links, phone numbers (from people in your contact list), etc.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">add_mark</span> <span class="pre">is</span> <span class="pre">False</span></code>, then a positive ID will be returned
instead. By default, bot-API style IDs (signed) are returned.</p>
<dl>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get_peer_id</span><span class="p">(</span><span class="s1">&#39;me&#39;</span><span class="p">))</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.users.UserMethods.is_bot">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_bot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#telethon.client.users.UserMethods.is_bot" title="Permalink to this definition"></a></dt>
<dd><p>Return <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> if the signed-in user is a bot, <code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
<dl>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">is_bot</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Beep&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="telethon.client.users.UserMethods.is_user_authorized">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_user_authorized</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#telethon.client.users.UserMethods.is_user_authorized" title="Permalink to this definition"></a></dt>
<dd><p>Returns <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> if the user is authorized (logged in).</p>
<dl>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="ow">not</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">is_user_authorized</span><span class="p">():</span>
    <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">send_code_request</span><span class="p">(</span><span class="n">phone</span><span class="p">)</span>
    <span class="n">code</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;enter code: &#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">sign_in</span><span class="p">(</span><span class="n">phone</span><span class="p">,</span> <span class="n">code</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../misc/compatibility-and-convenience.html" class="btn btn-neutral float-left" title="Compatibility and Convenience" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="events.html" class="btn btn-neutral float-right" title="Update Events" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017 - 2019, Lonami.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>